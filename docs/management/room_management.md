# æˆ¿é–“ç®¡ç†è¦æ ¼æ›¸

éŠæˆ²æˆ¿é–“æ˜¯ç©å®¶é€²å…¥éŠæˆ²ä¸–ç•Œçš„å…¥å£ï¼Œæ¶µè“‹æˆ¿é–“å»ºç«‹ã€ç©å®¶åŠ å…¥ã€ç‹€æ…‹ç®¡ç†ã€é€šè¨ŠåŒæ­¥ç­‰ä¸»è¦åŠŸèƒ½ã€‚æœ¬è¦æ ¼å®šç¾©äº†æ‰€æœ‰æˆ¿é–“ç®¡ç†ç›¸é—œçš„æµç¨‹èˆ‡æ©Ÿåˆ¶ã€‚

---

## ğŸ“‹ æˆ¿é–“ç”Ÿå‘½é€±æœŸ

### éšæ®µ 0ï¼šæˆ¿é–“å»ºç«‹èˆ‡åŠ å…¥

#### æˆ¿ä¸»æ“ä½œæµç¨‹

**ç¬¬ 1 æ­¥ï¼šæˆ¿é–“å»ºç«‹**

- æˆ¿ä¸»è¼¸å…¥æˆ¿é–“åç¨±ï¼ˆä¾‹å¦‚ï¼šã€Œç‹å®¶æ—è­œã€ï¼‰
- æˆ¿ä¸»é¸æ“‡éŠæˆ²æ™‚é•·ï¼ˆ90/120/180 ç§’ï¼‰
- ç³»çµ±ç”Ÿæˆå”¯ä¸€æˆ¿é–“ä»£ç¢¼ï¼ˆä¾‹å¦‚ï¼š`ABCD1234`ï¼‰
- ç³»çµ±ç”Ÿæˆåˆ†äº«é€£çµé‚€è«‹å®¶äººï¼ˆä¾‹å¦‚ï¼š`https://familytree.game/room/ABCD1234`ï¼‰
- æˆ¿é–“ç‹€æ…‹è½‰ç‚ºã€Œç­‰å¾…ä¸­ (Waiting)ã€

**ç¬¬ 2 æ­¥ï¼šç­‰å¾…ç©å®¶åŠ å…¥**

- æˆ¿ä¸»é€²å…¥ç­‰å¾…å¤§å»³ï¼ˆWaiting Lobbyï¼‰
- æˆ¿ä¸»å¯è¤‡è£½åˆ†äº«é€£çµä¸¦é‚€è«‹å®¶äºº
- é¡¯ç¤ºå·²åŠ å…¥çš„ç©å®¶åˆ—è¡¨ï¼ˆå¯¦æ™‚æ›´æ–°ï¼‰
- é¡¯ç¤ºå…¶ä»–äººæ­£åœ¨è¼¸å…¥è³‡æ–™çš„ç‹€æ…‹

**ç¬¬ 3 æ­¥ï¼šå•Ÿå‹•éŠæˆ²**

- æˆ¿ä¸»ç¢ºèªè‡³å°‘ 2 ä½ç©å®¶å·²åŠ å…¥
- æˆ¿ä¸»é»æ“Šã€Œé–‹å§‹éŠæˆ²ã€æŒ‰éˆ•
- ç³»çµ±é©—è­‰æ‰€æœ‰ç©å®¶è³‡æ–™å®Œæ•´æ€§ï¼ˆå§“åã€æ€§åˆ¥ã€å‡ºç”Ÿæ—¥æœŸï¼‰
- æˆ¿é–“ç‹€æ…‹è½‰ç‚ºã€Œé€²è¡Œä¸­ (In-Game)ã€
- æ‰€æœ‰ç©å®¶åŒæ™‚é€²å…¥éŠæˆ²ç¬¬ä¸€éšæ®µ

#### åŠ å…¥è€…æ“ä½œæµç¨‹

**æ–¹å¼ 1ï¼šé€éåˆ†äº«é€£çµåŠ å…¥**

- é»æ“Šæˆ¿ä¸»æä¾›çš„åˆ†äº«é€£çµ
- ç³»çµ±è‡ªå‹•è­˜åˆ¥æˆ¿é–“ä»£ç¢¼
- è‡ªå‹•è·³è½‰è‡³æˆ¿é–“åŠ å…¥é é¢

**æ–¹å¼ 2ï¼šé€éæˆ¿é–“ä»£ç¢¼åŠ å…¥**

- åœ¨é¦–é è¼¸å…¥æˆ¿é–“ä»£ç¢¼ï¼ˆä¾‹å¦‚ï¼š`ABCD1234`ï¼‰
- é»æ“Šã€ŒåŠ å…¥æˆ¿é–“ã€æŒ‰éˆ•
- ç³»çµ±é©—è­‰æˆ¿é–“ä»£ç¢¼æœ‰æ•ˆæ€§
- è·³è½‰è‡³æˆ¿é–“åŠ å…¥é é¢

**åŠ å…¥æµç¨‹**ï¼ˆå…©ç¨®æ–¹å¼ç›¸åŒï¼‰ï¼š

```
1. æª¢æŸ¥æˆ¿é–“ç‹€æ…‹
   âœ“ æˆ¿é–“å­˜åœ¨ä¸”ç‹€æ…‹ç‚ºã€Œç­‰å¾…ä¸­ã€ â†’ å…è¨±åŠ å…¥
   âœ“ æˆ¿é–“ä¸å­˜åœ¨ â†’ é¡¯ç¤ºã€Œæˆ¿é–“ä¸å­˜åœ¨ã€éŒ¯èª¤
   âœ“ æˆ¿é–“ç‹€æ…‹ç‚ºã€Œé€²è¡Œä¸­ã€æˆ–ã€Œçµç®—ä¸­ã€ â†’ å…è¨±ä»¥æ—è§€è€…èº«ä»½åŠ å…¥

2. ç©å®¶å¡«å¯«è³‡è¨Šï¼ˆè‹¥ç‚ºé¦–æ¬¡åŠ å…¥ï¼‰
   - å§“åï¼š2-10 å€‹ä¸­æ–‡å­—å…ƒ
   - æ€§åˆ¥ï¼šç”·æ€§ æˆ– å¥³æ€§
   - å‡ºç”Ÿæ—¥æœŸï¼šYYYY/MM/DD æ ¼å¼
   - å³æ™‚é©—è­‰èˆ‡éŒ¯èª¤æç¤º

3. åŠ å…¥æˆ¿é–“
   - ç³»çµ±ç”Ÿæˆå”¯ä¸€ playerIdï¼ˆè‹¥ç„¡ localStorage è¨˜éŒ„å‰‡æ–°å»ºï¼‰
   - å‘æˆ¿é–“å…§çš„å…¶ä»–ç©å®¶å»£æ’­ã€Œç©å®¶åŠ å…¥ã€äº‹ä»¶
   - æ–°åŠ å…¥ç©å®¶é€²å…¥ç­‰å¾…å¤§å»³ï¼ˆæˆ–é€²å…¥éŠæˆ²å¦‚æˆ¿é–“å·²é–‹å§‹ï¼‰
```

#### ç©å®¶è³‡æ–™è¨­å®šï¼ˆæ‰€æœ‰äººå¿…å¡«ï¼‰

**è³‡æ–™æ¬„ä½**ï¼š

- **å§“å**ï¼š2-10 å€‹ä¸­æ–‡å­—å…ƒ
  - é©—è­‰ï¼šé•·åº¦æª¢æŸ¥ã€éç©ºæª¢æŸ¥
  - éŒ¯èª¤è¨Šæ¯ï¼šã€Œè«‹è¼¸å…¥ 2-10 å€‹ä¸­æ–‡å­—å…ƒã€
- **æ€§åˆ¥**ï¼šç”·æ€§ æˆ– å¥³æ€§ï¼ˆäºŒé¸ä¸€ï¼‰
  - é©—è­‰ï¼šå¿…å¡«æª¢æŸ¥
  - éŒ¯èª¤è¨Šæ¯ï¼šã€Œè«‹é¸æ“‡æ€§åˆ¥ã€
- **å®Œæ•´å‡ºç”Ÿæ—¥æœŸ**ï¼šYYYY/MM/DD æ ¼å¼
  - é©—è­‰ï¼šæ—¥æœŸæ ¼å¼æª¢æŸ¥ã€æœ‰æ•ˆæ€§æª¢æŸ¥ï¼ˆä¸å…è¨±æœªä¾†æ—¥æœŸï¼‰
  - éŒ¯èª¤è¨Šæ¯ï¼šã€Œè«‹è¼¸å…¥æœ‰æ•ˆçš„å‡ºç”Ÿæ—¥æœŸ (YYYY/MM/DD)ã€

**é©—è­‰æ™‚æ©Ÿ**ï¼š

- å¯¦æ™‚é©—è­‰ï¼ˆé‚Šè¼¸å…¥é‚Šæª¢æŸ¥ï¼‰
- æäº¤æ™‚é©—è­‰ï¼ˆé»æ“Šã€ŒåŠ å…¥ã€æˆ–ã€Œé–‹å§‹éŠæˆ²ã€å‰ï¼‰

#### ç­‰å¾…å¤§å»³åŠŸèƒ½

**å¯¦æ™‚é¡¯ç¤º**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æˆ¿é–“åç¨±ï¼šç‹å®¶æ—è­œ              â”‚
â”‚    æˆ¿é–“ä»£ç¢¼ï¼šABCD1234             â”‚
â”‚    æ™‚é•·è¨­å®šï¼š120 ç§’               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·²åŠ å…¥çš„ç©å®¶ï¼ˆ3 / ç„¡é™ï¼‰           â”‚
â”‚  â€¢ ç‹å¤§æ˜ï¼ˆæˆ¿ä¸»ï¼‰âœ“ è¼¸å…¥ä¸­...       â”‚
â”‚  â€¢ ç‹å°æï¼ˆä½ ï¼‰âœ“                  â”‚
â”‚  â€¢ ç‹äºŒå¦¹ï¼ˆæ—è§€è€…ï¼‰                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [è¤‡è£½åˆ†äº«é€£çµ]  [é–‹å§‹éŠæˆ²]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æˆ¿ä¸»å¯åŸ·è¡Œçš„æ“ä½œ**ï¼š

- è¤‡è£½åˆ†äº«é€£çµï¼ˆä¸€éµè¤‡è£½è‡³å‰ªè²¼ç°¿ï¼‰
- å•Ÿå‹•éŠæˆ²ï¼ˆéœ€è‡³å°‘ 2 ä½ç©å®¶ï¼Œæ‰€æœ‰ç©å®¶è³‡æ–™å®Œæ•´ï¼‰
- è¸¢é™¤ç©å®¶ï¼ˆå¯é¸åŠŸèƒ½ï¼Œæš«å¯ä¸å¯¦ä½œï¼‰

**ç©å®¶å¯åŸ·è¡Œçš„æ“ä½œ**ï¼š

- æª¢æŸ¥è‡ªå·±çš„è³‡è¨Š
- æº–å‚™å°±ç·’ï¼ˆå¯é¸è§¸ç™¼ï¼‰
- ç­‰å¾…æˆ¿ä¸»å•Ÿå‹•éŠæˆ²

---

## ğŸ—ï¸ æˆ¿é–“ç®¡ç†ç³»çµ±

### æˆ¿é–“ç‹€æ…‹æ©Ÿ

```
æœªå•Ÿå‹• (Idle)
  â†“
  [æˆ¿ä¸»å»ºç«‹æˆ¿é–“]
  â†“
ç­‰å¾…ä¸­ (Waiting)
  â”œâ”€ ç©å®¶å¯åŠ å…¥
  â”œâ”€ æˆ¿ä¸»å¯é‚€è«‹
  â””â”€ æ–°åŠ å…¥è€…è‹¥æˆ¿é–“å·²é–‹å§‹ â†’ è½‰ç‚ºæ—è§€è€…
  â†“
  [æˆ¿ä¸»å•Ÿå‹•éŠæˆ²]
  â†“
é—œä¿‚ç¢ºèª (Relationship-Scan)
  â”œâ”€ é€²è¡Œç¬¬ä¸€éšæ®µï¼ˆç¢ºèªè¦ªå±¬é—œä¿‚ï¼‰
  â”œâ”€ è‡ªå‹•åŸ·è¡Œï¼Œç„¡UIæç¤º
  â””â”€ å®Œæˆå¾Œè‡ªå‹•é€²å…¥ä¸‹ä¸€éšæ®µ
  â†“
é€²è¡Œä¸­ (In-Game)
  â”œâ”€ æˆ¿é–“é–å®šï¼Œç„¡æ–°ç©å®¶å¯åŠ å…¥
  â”œâ”€ éŠæˆ²æ™‚é–“é–‹å§‹è¨ˆæ™‚
  â””â”€ æ–°åŠ å…¥è€…è‡ªå‹•è½‰ç‚ºæ—è§€è€…
  â†“
  [éŠæˆ²æ™‚é–“è€—ç›¡]
  â†“
çµç®—ä¸­ (Finished)
  â”œâ”€ é¡¯ç¤ºæ—è­œèˆ‡æ’è¡Œæ¦œ
  â”œâ”€ ç©å®¶å¯æŸ¥çœ‹çµæœ
  â””â”€ æˆ¿ä¸»å¯è¿”å›å¤§å»³æˆ–é–‹å•Ÿæ–°éŠæˆ²
  â†“
  [è¿”å›å¤§å»³]
  â†“
ç­‰å¾…ä¸­ (Waiting)
  æˆ–
æˆ¿é–“éŠ·æ¯€ (Destroyed)
```

### æˆ¿é–“ç‹€æ…‹è©³è§£

| ç‹€æ…‹            | èªªæ˜                                 | ç©å®¶å¯æ“ä½œ | æˆ¿ä¸»å¯æ“ä½œ         |
| --------------- | ------------------------------------ | ---------- | ------------------ |
| æœªå•Ÿå‹• (Idle)   | ç³»çµ±åˆå§‹ç‹€æ…‹ï¼Œé¦–é é¡¯ç¤ºå»ºç«‹æˆ¿é–“è¡¨å–®   | å‰µå»ºæˆ¿é–“   | ç„¡                 |
| ç­‰å¾…ä¸­ (W.)     | æˆ¿é–“å·²å»ºç«‹ï¼Œç­‰å¾…ç©å®¶åŠ å…¥             | åŠ å…¥æˆ¿é–“   | é‚€è«‹ã€å•Ÿå‹•éŠæˆ²     |
| é—œä¿‚ç¢ºèª (R-S.) | ç¬¬ä¸€éšæ®µé€²è¡Œä¸­ï¼Œè‡ªå‹•æ¨é€²ï¼Œç©å®¶ç„¡æ„ŸçŸ¥ | éŠæˆ²é€²è¡Œ   | ç„¡                 |
| é€²è¡Œä¸­ (I-G.)   | éŠæˆ²é€²è¡Œä¸­ï¼Œæ–°åŠ å…¥è€…è‡ªå‹•æˆç‚ºæ—è§€è€…   | éŠæˆ²é€²è¡Œ   | çµæŸéŠæˆ²ï¼ˆç·Šæ€¥ï¼‰   |
| çµç®—ä¸­ (F.)     | éŠæˆ²çµæŸï¼Œé¡¯ç¤ºçµæœ                   | æª¢è¦–çµæœ   | é‡å•ŸéŠæˆ²æˆ–è¿”å›å¤§å»³ |

### æˆ¿é–“å®‰å…¨èˆ‡è³ªé‡æ§åˆ¶

**æˆ¿é–“å®‰å…¨**ï¼š

- å”¯ä¸€æˆ¿é–“ä»£ç¢¼ï¼šæ¯å€‹æˆ¿é–“æ“æœ‰å…¨å±€å”¯ä¸€çš„ 8 ä½ä»£ç¢¼
- é€²è¡Œä¸­æˆ¿é–“åŠ é–ï¼šéŠæˆ²é–‹å§‹å¾Œè‡ªå‹•é–å®šï¼ˆé˜²æ­¢ä¸­é€”åŠ å…¥å½±éŸ¿éŠæˆ²é‚è¼¯ï¼‰
- æ—è§€è€…ä¿è­·ï¼šéŠæˆ²é–‹å§‹å¾ŒåŠ å…¥çš„ç©å®¶è‡ªå‹•è½‰ç‚ºæ—è§€è€…ï¼Œç„¡æ³•åƒèˆ‡éŠæˆ²

**æˆ¿é–“éæœŸæ¸…ç†**ï¼š

- è‡ªå‹•æ¸…ç†è¦å‰‡ï¼šè¶…é 24 å°æ™‚å®Œå…¨æœªæ´»å‹•çš„æˆ¿é–“
- æ¸…ç†æ™‚æ©Ÿï¼šç³»çµ±å®šæœŸæƒæï¼ˆæ¨è–¦æ¯å°æ™‚æª¢æŸ¥ä¸€æ¬¡ï¼‰
- æ¸…ç†å‰é€šçŸ¥ï¼šè‹¥æˆ¿ä¸»ä»åœ¨ç·šï¼Œç™¼é€æ¸…ç†è­¦å‘Šï¼ˆ24 å°æ™‚å‰ï¼‰

**æˆ¿é–“å®¹é‡**ï¼š

- å–®æˆ¿é–“æœ€å¤šç©å®¶æ•¸ï¼šå»ºè­°ç„¡ä¸Šé™ï¼ˆæ ¹æ“šä¼ºæœå™¨å®¹é‡èª¿æ•´ï¼‰
- æœ€å°‘ç©å®¶æ•¸ï¼š2 äººï¼ˆå°‘æ–¼ 2 äººç„¡æ³•å•Ÿå‹•éŠæˆ²ï¼‰

---

## ğŸ‘¥ ç©å®¶ç®¡ç†ç³»çµ±

### ç©å®¶èº«ä»½è­˜åˆ¥

**playerId ç”Ÿæˆèˆ‡å­˜å„²**ï¼š

- é¦–æ¬¡é€²å…¥æ‡‰ç”¨æ™‚ï¼Œç³»çµ±ç”Ÿæˆå”¯ä¸€çš„ playerIdï¼ˆä¾‹å¦‚ï¼š`uuid-12345-abcde`ï¼‰
- å­˜å„²ä½ç½®ï¼šç€è¦½å™¨ localStorage éµå€¼å° `familyTree_playerId`
- è·¨æˆ¿é–“ä½¿ç”¨ï¼šåŒä¸€ç€è¦½å™¨å…§çš„ playerId åœ¨æ‰€æœ‰æˆ¿é–“ä¿æŒä¸€è‡´
- è¨­å‚™ç¶å®šï¼šä¸åŒè¨­å‚™ = ä¸åŒ playerId

**ç©å®¶èº«ä»½æ¢å¾©**ï¼š

- ç£ç¢Ÿæ©Ÿé‡å•Ÿå¾Œï¼šlocalStorage ä»å­˜åœ¨ playerIdï¼Œè‡ªå‹•æ¢å¾©èº«ä»½
- ç€è¦½å™¨æ¸…ç†ç·©å­˜ï¼šplayerId éºå¤±ï¼Œéœ€é‡æ–°å»ºç«‹æ–°èº«ä»½
- éš±ç§ç€è¦½æ¨¡å¼ï¼šç„¡æ³•å„²å­˜ playerIdï¼Œç„¡æ³•è·¨é é¢ä¿æŒèº«ä»½

### ç©å®¶ç‹€æ…‹æ©Ÿ

```
æœªé€£ç·š
  â†“
  [ç©å®¶åŠ å…¥æˆ¿é–“]
  â†“
é€£ç·šä¸­ (Connected)
  â”œâ”€ æ­£å¸¸éŠæˆ²ç‹€æ…‹
  â”œâ”€ å¿ƒè·³æª¢æ¸¬ï¼š30 ç§’ä¸€æ¬¡
  â””â”€ å¯æ¥æ”¶é¡Œç›®èˆ‡åŒæ­¥ä¿¡æ¯
  â†“
  [ç©å®¶æ–·ç·šæˆ–åœæ­¢å¿ƒè·³]
  â†“
é›¢ç·š (Disconnected)
  â”œâ”€ ä¿ç•™ç©å®¶è³‡æ–™èˆ‡é€²åº¦
  â”œâ”€ æ¨™è¨˜ç‚ºã€Œé›¢ç·šã€ï¼ˆå…¶ä»–ç©å®¶å¯è¦‹ï¼‰
  â”œâ”€ å¿ƒè·³æª¢æ¸¬é–“éš”å»¶é•·è‡³ 60 ç§’
  â””â”€ è¶…é 5 åˆ†é˜ç„¡å¿ƒè·³ â†’ è¦–ç‚ºæ°¸ä¹…é›¢ç·š
  â†“
  [ç©å®¶é‡æ–°é€£ç·šæˆ–å¿ƒè·³æ¢å¾©]
  â†“
é€£ç·šä¸­ (Connected)
  æˆ–
[è¶…æ™‚ > 5 åˆ†é˜]
æˆ¿é–“ç§»é™¤è©²ç©å®¶
```

### ç©å®¶ç‹€æ…‹è©³è§£

| ç‹€æ…‹                           | èªªæ˜                           | å…¶ä»–ç©å®¶å¯è¦‹ | ç³»çµ±è¡Œç‚º                 |
| ------------------------------ | ------------------------------ | ------------ | ------------------------ |
| é€£ç·šä¸­ (Connected)             | æ­£å¸¸éŠæˆ²ç‹€æ…‹                   | âœ“ ç·šä¸Š       | æ´¾ç™¼é¡Œç›®ã€å³æ™‚åŒæ­¥       |
| è¼¸å…¥ä¸­ (Typing)                | ç©å®¶æ­£åœ¨è¼¸å…¥ç­”æ¡ˆ               | âœ“ è¼¸å…¥ä¸­...  | ä»»å‹™è¢«é–å®šã€ç¦æ­¢ä»–äººæ¶ç­” |
| é›¢ç·š (Disconnected)            | æš«æ™‚æ–·ç·šï¼ˆ< 5 åˆ†é˜ï¼‰           | âœ“ é›¢ç·š       | ä¿ç•™é€²åº¦ã€ç­‰å¾…é‡é€£       |
| æ°¸ä¹…é›¢ç·š (Permanently Offline) | é•·æœŸé›¢ç·šï¼ˆ> 5 åˆ†é˜ï¼‰æˆ–ä¸»å‹•é›¢é–‹ | âœ“ å·²é›¢ç·š     | æ¸…ç†è³‡æ–™ã€è¦–ç‚ºæ”¾æ£„éŠæˆ²   |
| æ—è§€è€… (Observer)              | éŠæˆ²é–‹å§‹å¾ŒåŠ å…¥çš„ç©å®¶           | âœ“ æ—è§€è€…     | å¯è§€çœ‹é€²åº¦ã€ç„¡æ³•å›ç­”é¡Œç›® |

### ç©å®¶è§’è‰²

#### æˆ¿ä¸» (Host)

**èº«ä»½**ï¼šæˆ¿é–“çš„å‰µå»ºè€…æˆ–æ¬Šé™ç¹¼æ‰¿äºº

**æ¬Šé™**ï¼š

- è¨­å®šæˆ¿é–“åç¨±èˆ‡éŠæˆ²æ™‚é–“
- å•Ÿå‹•éŠæˆ²ï¼ˆéœ€è‡³å°‘ 2 ä½ç©å®¶ï¼Œæ‰€æœ‰ç©å®¶è³‡æ–™å®Œæ•´ï¼‰
- çµæŸéŠæˆ²ï¼ˆç·Šæ€¥æŒ‰éˆ•ï¼Œä¸æ¨è–¦ä½¿ç”¨ï¼‰
- è¿”å›å¤§å»³æˆ–é–‹å•Ÿæ–°éŠæˆ²ï¼ˆçµç®—å¾Œï¼‰

**æˆ¿ä¸»è½‰ç§»é‚è¼¯**ï¼š

- **è§¸ç™¼æ¢ä»¶**ï¼š
  1. æˆ¿ä¸» WebSocket é€£ç·šé—œé–‰ï¼ˆç„¡å»¶é²ç­‰å¾…ï¼‰
  2. æˆ¿é–“å…§ä»æœ‰è‡³å°‘ 1 ä½æ´»èºç©å®¶
- **è½‰ç§»æµç¨‹**ï¼š
  1. ç³»çµ±è‡ªå‹•é¸æ“‡ã€Œæœ€å…ˆåŠ å…¥æˆ¿é–“ã€çš„ç©å®¶æˆç‚ºæ–°æˆ¿ä¸»
  2. å»£æ’­æˆ¿ä¸»è®Šæ›´é€šçŸ¥çµ¦æ‰€æœ‰ç©å®¶ï¼šã€Œç©å®¶ A å·²æˆç‚ºæˆ¿ä¸»ã€
  3. æ–°æˆ¿ä¸»åœ¨ç•«é¢ä¸Šçœ‹åˆ°ã€Œæˆ¿ä¸»ã€æ¨™ç±¤
- **ä¾‹å¤–æƒ…æ³**ï¼š
  - è‹¥æˆ¿é–“åªå‰©æˆ¿ä¸» 1 äººï¼Œæˆ¿é–“è‡ªå‹•é—œé–‰
  - è‹¥æ‰€æœ‰ç©å®¶éƒ½æ–·ç·šï¼Œæˆ¿é–“é€²å…¥ã€Œå¾…æ¸…ç†ã€ç‹€æ…‹

**æ¬Šé™ä¿è­·**ï¼š

- åªæœ‰æˆ¿ä¸»å¯å•Ÿå‹•éŠæˆ²
- éæˆ¿ä¸»é»æ“Šã€Œé–‹å§‹éŠæˆ²ã€æ™‚ï¼Œé¡¯ç¤ºæç¤ºï¼šã€Œåƒ…æˆ¿ä¸»å¯å•Ÿå‹•éŠæˆ²ã€

#### ä¸€èˆ¬ç©å®¶ (Player)

**èº«ä»½**ï¼šç”±æˆ¿ä¸»é‚€è«‹æˆ–è‡ªä¸»åŠ å…¥çš„ç©å®¶

**æ¬Šé™**ï¼š

- å¡«å¯«æˆ–ä¿®æ”¹å€‹äººè³‡è¨Šï¼ˆåŠ å…¥æˆ¿é–“æ™‚ï¼‰
- åƒèˆ‡éŠæˆ²ï¼ˆå›ç­”é¡Œç›®ã€è´å¾—ç©åˆ†ï¼‰
- æª¢è¦–å¯¦æ™‚é€²åº¦ï¼ˆé€²åº¦é€šçŸ¥ã€è¨ˆåˆ†æ›´æ–°ï¼‰
- æŸ¥çœ‹æœ€çµ‚çµæœèˆ‡æ’è¡Œæ¦œ

**é™åˆ¶**ï¼š

- ç„¡æ³•ä¿®æ”¹æˆ¿é–“è¨­å®š
- ç„¡æ³•å•Ÿå‹•æˆ–çµæŸéŠæˆ²
- ç„¡æ³•è¸¢é™¤å…¶ä»–ç©å®¶

#### æ—è§€è€… (Observer)

**èº«ä»½**ï¼šéŠæˆ²é–‹å§‹å¾Œæ‰åŠ å…¥æˆ¿é–“çš„ç©å®¶

**è§¸ç™¼æ¢ä»¶**ï¼ˆå…©æ¢ä¸¦è¡Œè·¯å¾‘ï¼‰ï¼š

- **è·¯å¾‘ 1**ï¼šæˆ¿é–“ç‹€æ…‹ç‚ºã€Œé€²è¡Œä¸­ (In-Game)ã€æˆ–ã€Œçµç®—ä¸­ (Finished)ã€æ™‚ï¼Œç©å®¶é€šéåˆ†äº«é€£çµæˆ–ä»£ç¢¼åŠ å…¥ â†’ è‡ªå‹•è½‰ç‚ºæ—è§€è€…
- **è·¯å¾‘ 2**ï¼šéŠæˆ²é€²è¡Œä¸­ï¼Œç©å®¶ç›´æ¥é€²å…¥æ—è§€è€…çœ‹æ¿ï¼ˆç„¡éœ€å¡«å¯«å€‹äººè³‡è¨Šï¼‰

**è§€çœ‹æ¬Šé™**ï¼š

- å¯å¯¦æ™‚æŸ¥çœ‹ç¾å ´ç©å®¶åˆ—è¡¨
- å¯æŸ¥çœ‹é€²åº¦í†µçŸ¥ï¼ˆã€Œå·²å®Œæˆ X å€‹ä»»å‹™ã€ï¼‰
- å¯æŸ¥çœ‹æœ€çµ‚æ—è­œèˆ‡æ’è¡Œæ¦œ

**é™åˆ¶**ï¼š

- ç„¡æ³•åƒèˆ‡éŠæˆ²ï¼ˆç„¡æ³•å›ç­”é¡Œç›®ï¼‰
- ç„¡æ³•ç²å¾—ç©åˆ†ï¼ˆç„¡æ’è¡Œæ¦œè¨˜éŒ„ï¼‰
- ç„¡æ³•å½±éŸ¿éŠæˆ²é€²åº¦

**è½‰æ›è¦å‰‡**ï¼š

- æ—è§€è€…ç‹€æ…‹æ˜¯å–®å‘çš„ï¼Œç„¡æ³•è½‰ç‚ºä¸€èˆ¬ç©å®¶
- éŠæˆ²çµæŸå¾Œå¯è¿”å›å¤§å»³ï¼Œé‡æ–°ä»¥ä¸€èˆ¬ç©å®¶èº«ä»½åŠ å…¥æ–°éŠæˆ²

---

## ğŸ’¾ è³‡æ–™çµæ§‹è¦æ ¼

è©³ç´°é¡å‹å®šç¾©è¦‹ [data-structures.md](../technical/data-structures.md)ã€‚

### æˆ¿é–“è³‡æ–™çµæ§‹

```json
Room {
  // åŸºæœ¬ä¿¡æ¯
  roomId: String (UUID),
  name: String,
  gameDuration: Number (ç§’ï¼š90 | 120 | 180),

  // ç‹€æ…‹ç®¡ç†
  status: Enum ("idle" | "waiting" | "in-game" | "finished"),
  hostId: String (playerId),

  // ç©å®¶ç®¡ç†
  players: Player[],
  observers: Player[],

  // éŠæˆ²æ•¸æ“š
  gameStartTime: Timestamp | null,
  gameEndTime: Timestamp | null,
  familyTree: FamilyTree,

  // å…ƒæ•¸æ“š
  createdAt: Timestamp,
  updatedAt: Timestamp,
  expiresAt: Timestamp (24 å°æ™‚å¾Œ)
}
```

### ç©å®¶è³‡æ–™çµæ§‹

```json
Player {
  // èº«ä»½è­˜åˆ¥
  id: String (UUIDï¼Œå”¯ä¸€ playerId),
  name: String (2-10 å­—å…ƒ),
  gender: Enum ("male" | "female"),
  birthday: String (YYYY/MM/DD),

  // æˆ¿é–“è§’è‰²
  isHost: Boolean,
  isObserver: Boolean,

  // éŠæˆ²ç‹€æ…‹
  isConnected: Boolean,
  lastHeartbeat: Timestamp,
  isTyping: Boolean,

  // è¨ˆåˆ†
  score: Number,
  contributions: {
    relationshipQuestions: Number,
    nodeNaming: Number,
    attributeFilling: Number,
    nodeConvergence: Number,
    ageOrdering: Number
  },

  // å…ƒæ•¸æ“š
  joinedAt: Timestamp,
  lastActivityAt: Timestamp
}
```

### æ—è­œç¯€é»è³‡æ–™çµæ§‹

```json
FamilyNode {
  // åŸºæœ¬è­˜åˆ¥
  id: String (UUID),
  name: String | null,
  gender: Enum ("male" | "female") | null,
  birthday: String (YYYY/MM/DD) | null,

  // ç¯€é»åˆ†é¡
  isVirtual: Boolean (è™›æ“¬ç¯€é» vs ç©å®¶ç¯€é»),
  isPlayer: Boolean,
  playerId: String | null (è‹¥ç‚ºç©å®¶ç¯€é»ï¼ŒæŒ‡å‘ Player.id),

  // æ—è­œçµæ§‹
  father: String | null (çˆ¶è¦ªç¯€é» ID),
  mother: String | null (æ¯è¦ªç¯€é» ID),
  spouse: String | null (é…å¶ç¯€é» ID),
  children: String[] (å­å¥³ç¯€é» IDs),

  // ç³»çµ±æ¨™è¨˜
  isOnKeyPath: Boolean (æ˜¯å¦åœ¨é—œéµè·¯å¾‘ä¸Š),
  expansionType: Enum ("FULL" | "TERMINAL"),

  // è¡çªæ¨™è¨˜
  conflicts: {
    field: String,
    values: any[],
    sources: String[] (æä¾›è€… playerId)
  }[] | null,

  // å…ƒæ•¸æ“š
  createdAt: Timestamp,
  confirmedAt: Timestamp | null,
  confirmedBy: String[] (ç¢ºèªè€… playerId åˆ—è¡¨)
}
```

---

## ğŸ”Œ å³æ™‚é€šè¨Šèˆ‡åŒæ­¥

### WebSocket é€£ç·šç®¡ç†

è©³ç´°å¯¦ä½œè¦‹ [websocket-protocol.md](../technical/websocket-protocol.md)ã€‚
**é€£ç·šå»ºç«‹**ï¼š

- ç©å®¶é€²å…¥æˆ¿é–“æ™‚è‡ªå‹•å»ºç«‹ WebSocket é€£ç·š
- é€£ç·šåœ°å€ï¼š`wss://server.example.com/ws/{roomId}/{playerId}`
- é€£ç·šè¶…æ™‚ï¼š30 ç§’ç„¡å¿ƒè·³è‡ªå‹•æ–·é–‹

**è‡ªå‹•é‡é€£æ©Ÿåˆ¶**ï¼š
è©³ç´°å¯¦ä½œè¦‹ [reconnection-handler.md](../technical/reconnection-handler.md)ã€‚

- æ–·ç·šæª¢æ¸¬ï¼šå¿ƒè·³è¶…æ™‚ï¼ˆ30 ç§’ï¼‰æˆ–é€£ç·šç•°å¸¸
- é‡é€£å»¶é²ï¼šé¦–æ¬¡ 3 ç§’ï¼Œä¹‹å¾Œæ¯æ¬¡ Ã— 1.5ï¼ˆæŒ‡æ•¸é€€é¿ï¼‰
- æœ€å¤§é‡è©¦æ¬¡æ•¸ï¼š10 æ¬¡ï¼ˆå¾Œæ”¾æ£„ï¼‰
- é‡é€£æˆåŠŸå¾Œï¼šè‡ªå‹•åŒæ­¥ç•¶å‰éŠæˆ²ç‹€æ…‹

**å¿ƒè·³æª¢æ¸¬**ï¼š
è©³ç´°å¯¦ä½œè¦‹ [player-management.md](../technical/player-management.md)ã€‚

- å¿ƒè·³é–“éš”ï¼š30 ç§’
- å¿ƒè·³è¨Šæ¯ï¼š`{ type: 'heartbeat', playerId, timestamp }`
- è¶…æ™‚åˆ¤å®šï¼š2 å€‹é€£çºŒå¿ƒè·³æœªæ”¶åˆ° = ç©å®¶é›¢ç·š

### è¨Šæ¯é¡å‹èˆ‡æ ¼å¼

è©³ç´°è¦æ ¼è¦‹ [websocket-protocol.md](../technical/websocket-protocol.md)ã€‚

#### æˆ¿é–“ç®¡ç†è¨Šæ¯

```json
// ç©å®¶åŠ å…¥
{
  type: "player_joined",
  playerId: String,
  player: Player,
  timestamp: Timestamp
}

// ç©å®¶é›¢ç·š
{
  type: "player_disconnected",
  playerId: String,
  timestamp: Timestamp
}

// ç©å®¶é‡é€£
{
  type: "player_reconnected",
  playerId: String,
  timestamp: Timestamp
}

// æˆ¿ä¸»è½‰ç§»
{
  type: "host_changed",
  newHostId: String,
  timestamp: Timestamp
}

// éŠæˆ²é–‹å§‹
{
  type: "game_started",
  gameStartTime: Timestamp,
  gameDuration: Number,
  questions: Question[]
}

// éŠæˆ²çµæŸ
{
  type: "game_ended",
  gameEndTime: Timestamp,
  results: GameResults
}
```

#### ç©å®¶ç‹€æ…‹è¨Šæ¯

```json
// ç©å®¶é–‹å§‹è¼¸å…¥
{
  type: "player_typing",
  playerId: String,
  taskId: String,
  timestamp: Timestamp
}

// ç©å®¶åœæ­¢è¼¸å…¥ï¼ˆæäº¤æˆ–è·³éï¼‰
{
  type: "player_typing_stopped",
  playerId: String,
  taskId: String,
  action: "submitted" | "skipped",
  timestamp: Timestamp
}

// å¿ƒè·³
{
  type: "heartbeat",
  playerId: String,
  timestamp: Timestamp
}
```

### ç‹€æ…‹åŒæ­¥è¦å‰‡

| äº‹ä»¶         | å»£æ’­ç¯„åœ           | åŒæ­¥å…§å®¹                     | å»¶é²    |
| ------------ | ------------------ | ---------------------------- | ------- |
| ç©å®¶åŠ å…¥     | æˆ¿é–“æ‰€æœ‰ç©å®¶       | æ–°ç©å®¶è³‡è¨Šã€ç©å®¶åˆ—è¡¨æ›´æ–°     | å³æ™‚    |
| ç©å®¶é›¢ç·š     | æˆ¿é–“æ‰€æœ‰ç©å®¶       | ç©å®¶ç‹€æ…‹è®Šæ›´                 | < 30 ç§’ |
| ç©å®¶é‡é€£     | æˆ¿é–“æ‰€æœ‰ç©å®¶       | ç©å®¶ç‹€æ…‹ã€éºæ¼çš„æ›´æ–°         | å³æ™‚    |
| æˆ¿ä¸»è½‰ç§»     | æˆ¿é–“æ‰€æœ‰ç©å®¶       | æ–°æˆ¿ä¸» IDã€æ¬Šé™æ›´æ–°          | å³æ™‚    |
| è¼¸å…¥ç‹€æ…‹     | æˆ¿é–“é™¤æœ¬äººå¤–çš„ç©å®¶ | èª°åœ¨è¼¸å…¥ã€ä»»å‹™ ID            | å³æ™‚    |
| éŠæˆ²éšæ®µåˆ‡æ› | æˆ¿é–“æ‰€æœ‰ç©å®¶       | æ–°é¡Œç›®åˆ—è¡¨ã€ä»»å‹™ç‹€æ…‹         | < 1 ç§’  |
| è¨ˆåˆ†è®ŠåŒ–     | æˆ¿é–“æ‰€æœ‰ç©å®¶       | æ–°è¨ˆåˆ†ã€è²¢ç»çµ±è¨ˆï¼ˆå¯é¸å»¶é²ï¼‰ | 1-5 ç§’  |

---

## ğŸ”„ ç‰¹æ®Šæƒ…æ³è™•ç†

### æ–·ç·šèˆ‡é‡é€£

#### æ–·ç·šæª¢æ¸¬èˆ‡é€šçŸ¥

**ç©å®¶ç«¯æª¢æ¸¬**ï¼š

- WebSocket `onclose` æˆ– `onerror` äº‹ä»¶è§¸ç™¼
- å¿ƒè·³è¶…æ™‚ï¼ˆé€£çºŒ 2 å€‹å¿ƒè·³æœªå›æ‡‰ï¼‰
- é¡¯ç¤ºæç¤ºï¼šã€Œé€£ç·šå·²ä¸­æ–·ï¼Œæ­£åœ¨å˜—è©¦é‡æ–°é€£ç·š...ã€

**ä¼ºæœå™¨ç«¯æª¢æ¸¬**ï¼š

- å¿ƒè·³è¶…æ™‚ï¼ˆ30 ç§’ç„¡å¿ƒè·³ï¼‰
- é€£ç·šä¸»å‹•é—œé–‰
- æ¨™è¨˜ç©å®¶ç‹€æ…‹ç‚º `disconnected`

**å…¶ä»–ç©å®¶çš„çŸ¥è¦º**ï¼š

- ç©å®¶åç¨±æ—é¡¯ç¤ºã€Œé›¢ç·šã€æ¨™ç±¤
- è©²ç©å®¶çš„ä»»å‹™è¢«è‡ªå‹•è·³éï¼ˆå¦‚æœ‰ï¼‰
- ä¸ç§»é™¤ç©å®¶çš„ä»»ä½•éŠæˆ²é€²åº¦

#### é‡é€£æµç¨‹

```
1. è‡ªå‹•é‡é€£
   â”œâ”€ å˜—è©¦é‡æ–°å»ºç«‹ WebSocket é€£ç·š
   â”œâ”€ å¿ƒè·³å›æ‡‰ â†’ é‡é€£æˆåŠŸ
   â””â”€ å¿ƒè·³è¶…æ™‚ Ã— 10 â†’ çµ¦äºˆæ”¾æ£„æç¤º

2. èº«ä»½é©—è­‰
   â”œâ”€ é€é localStorage çš„ playerId è‡ªå‹•è­˜åˆ¥
   â”œâ”€ æˆ–æ‰‹å‹•è¼¸å…¥æˆ¿é–“ä»£ç¢¼é‡æ–°åŠ å…¥
   â””â”€ é©—è­‰é€šé â†’ æ¢å¾©ç©å®¶ç‹€æ…‹

3. ç‹€æ…‹åŒæ­¥
   â”œâ”€ ç²å–ç›®å‰éŠæˆ²éšæ®µ
   â”œâ”€ ç²å–å¾…å›ç­”é¡Œç›®ï¼ˆè‹¥éŠæˆ²é€²è¡Œä¸­ï¼‰
   â”œâ”€ ç²å–éºæ¼çš„ç‹€æ…‹æ›´æ–°ï¼ˆè¨ˆåˆ†ã€ç©å®¶åˆ—è¡¨ç­‰ï¼‰
   â””â”€ ç©å®¶æ”¶åˆ°é‡é€£æˆåŠŸæç¤º

4. å»£æ’­é€šçŸ¥
   â”œâ”€ ä¼ºæœå™¨å»£æ’­ã€Œç©å®¶å·²é‡é€£ã€äº‹ä»¶
   â”œâ”€ å…¶ä»–ç©å®¶çœ‹åˆ°è©²ç©å®¶çš„é›¢ç·šæ¨™ç±¤æ¶ˆå¤±
   â””â”€ éŠæˆ²æµæš¢ç¹¼çºŒ
```

### æˆ¿ä¸»é›¢ç·šèˆ‡è½‰ç§»

#### æˆ¿ä¸»é›¢ç·šæª¢æ¸¬

**è§¸ç™¼æ¢ä»¶**ï¼š

- æˆ¿ä¸»æ–·ç·šè¶…é 1 åˆ†é˜ï¼ˆæˆ–ä¸»å‹•é»æ“Šã€Œé›¢é–‹æˆ¿é–“ã€ï¼‰
- ç³»çµ±æª¢æ¸¬åˆ°æˆ¿ä¸»çš„å¿ƒè·³åœæ­¢

**å…¶ä»–ç©å®¶çš„çŸ¥è¦º**ï¼š

- æˆ¿ä¸»åç¨±æ—é¡¯ç¤ºã€Œé›¢ç·šã€æ¨™ç±¤
- å¦‚æˆ¿ä¸»å°šæœªå•Ÿå‹•éŠæˆ²ï¼Œã€Œé–‹å§‹éŠæˆ²ã€æŒ‰éˆ•è½‰ç‚ºã€Œç­‰å¾…æˆ¿ä¸»å•Ÿå‹•ã€
- å¦‚éŠæˆ²å·²é€²è¡Œï¼Œç„¡ç›´æ¥å½±éŸ¿

#### æˆ¿ä¸»æ¬Šé™è½‰ç§»

**è½‰ç§»é‚è¼¯**ï¼š

è©³ç´°å¯¦ä½œè¦‹ [player-management.md](../technical/player-management.md)ã€‚

```
1. æª¢æ¸¬æˆ¿ä¸»é€£ç·šé—œé–‰
   â†“
2. ç¢ºèªæˆ¿é–“å…§ä»æœ‰è‡³å°‘ 1 ä½æ´»èºç©å®¶
   â”œâ”€ æœ‰ â†’ é€²è¡Œè½‰ç§»
   â””â”€ ç„¡ â†’ æˆ¿é–“é€²å…¥ã€Œå¾…æ¸…ç†ã€ç‹€æ…‹
   â†“
3. é¸æ“‡æ–°æˆ¿ä¸»
   â”œâ”€ å„ªå…ˆç´šï¼šæœ€å…ˆåŠ å…¥æˆ¿é–“çš„ç©å®¶ï¼ˆjoinedAt æœ€æ—©ï¼‰
   â”œâ”€ æ’é™¤ï¼šæ—è§€è€…ã€é›¢ç·šç©å®¶
   â””â”€ è‹¥ç„¡ç¬¦åˆè€…ï¼šæˆ¿é–“é—œé–‰
   â†“
4. æ›´æ–°æˆ¿ä¸» ID
   â”œâ”€ æ›´æ–°æˆ¿é–“çš„ hostId æ¬„ä½
   â””â”€ æ›´æ–°ç©å®¶çš„ isHost æ¨™ç±¤
   â†“
5. å»£æ’­é€šçŸ¥
   â”œâ”€ ç™¼é€ã€Œowner_changedã€è¨Šæ¯
   â”œâ”€ æ‰€æœ‰ç©å®¶çœ‹åˆ°æ–°æˆ¿ä¸»é€šçŸ¥ï¼šã€Œç©å®¶ A å·²æˆç‚ºæˆ¿ä¸»ã€
   â”œâ”€ æ–°æˆ¿ä¸»çœ‹åˆ°æˆ¿ä¸»æ¬Šé™æŒ‰éˆ•æ¿€æ´»
   â””â”€ å…¶ä»–ç©å®¶çœ‹åˆ°æˆ¿ä¸»æ¨™ç±¤æ›´æ–°
   â†“
6. æ—¥èªŒè¨˜éŒ„
   â””â”€ è¨˜éŒ„è½‰ç§»æ™‚é–“ã€èˆŠæˆ¿ä¸»ã€æ–°æˆ¿ä¸»
```

### æ—è§€è€…æ¨¡å¼

è©³ç´°å¯¦ä½œè¦‹ [spectator-system.md](../technical/spectator-system.md)ã€‚

#### æ—è§€è€…çš„åŠ å…¥æ™‚æ©Ÿ

**è‡ªå‹•è½‰æ›ç‚ºæ—è§€è€…**ï¼š

- åˆ†äº«é€£çµåŠ å…¥æ™‚æˆ¿é–“å·²é–‹å§‹éŠæˆ²
- æˆ¿é–“ä»£ç¢¼åŠ å…¥æ™‚æˆ¿é–“å·²é–‹å§‹éŠæˆ²
- æ‰‹å‹•é»æ“Šã€Œä»¥æ—è§€è€…èº«ä»½é€²å…¥ã€ï¼ˆéŠæˆ²é€²è¡Œä¸­ï¼‰

#### æ—è§€è€…çš„æ¬Šé™èˆ‡é™åˆ¶

**å¯è§€çœ‹**ï¼š

```
âœ“ ç©å®¶åˆ—è¡¨èˆ‡å„ç©å®¶çš„ç·šä¸Šç‹€æ…‹
âœ“ é€²åº¦é€šçŸ¥ï¼šã€Œå·²å®Œæˆ X å€‹ä»»å‹™ã€ã€ã€Œæ—è­œå®Œæ•´åº¦ Y%ã€
âœ“ æœ€çµ‚æ—è­œèˆ‡æ’è¡Œæ¦œï¼ˆéŠæˆ²çµæŸæ™‚ï¼‰
âœ“ ä»–äººçš„è¨ˆåˆ†æ›´æ–°ï¼ˆå¯é¸å»¶é²é¡¯ç¤ºï¼‰
```

**ç„¡æ³•é€²è¡Œ**ï¼š

```
âœ— å›ç­”ä»»ä½•é¡Œç›®ï¼ˆç„¡æ³•çœ‹åˆ°é¡Œç›®ï¼‰
âœ— ç²å¾—ç©åˆ†ï¼ˆç„¡æ’è¡Œæ¦œè¨˜éŒ„ï¼‰
âœ— å½±éŸ¿éŠæˆ²é€²åº¦
âœ— èˆ‡æˆ¿ä¸»é€²è¡Œçš„ä»»ä½•äº’å‹•
```

**UI èˆ‡æç¤º**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘ï¸ æ—è§€è€…æ¨¡å¼                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä½ æ­£åœ¨ä»¥æ—è§€è€…èº«ä»½æª¢è¦–æ­¤éŠæˆ²     â”‚
â”‚ ç„¡æ³•åƒèˆ‡éŠæˆ²ï¼Œä½†å¯æŸ¥çœ‹æœ€çµ‚çµæœ   â”‚
â”‚                                  â”‚
â”‚ é€²åº¦ï¼šå·²å¡«å¯« 12 å€‹ç¯€é»è³‡è¨Š         â”‚
â”‚ å®Œæ•´åº¦ï¼š78%                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ éŒ¯èª¤è™•ç†

### ç¶²è·¯éŒ¯èª¤

| éŒ¯èª¤æƒ…æ³                   | ç©å®¶æç¤º                             | ç³»çµ±è¡Œç‚º                 |
| -------------------------- | ------------------------------------ | ------------------------ |
| é€£ç·šä¸­æ–·                   | ã€Œé€£ç·šå·²ä¸­æ–·ï¼Œæ­£åœ¨é‡æ–°é€£ç·š...ã€      | è‡ªå‹•é‡é€£æ©Ÿåˆ¶             |
| é‡é€£å¤±æ•—ï¼ˆè¶…é 10 æ¬¡é‡è©¦ï¼‰ | ã€Œç„¡æ³•é€£ç·šè‡³ä¼ºæœå™¨ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šã€ | å»ºè­°ç©å®¶é‡æ–°æ•´ç†é é¢     |
| ä¼ºæœå™¨ç„¡å›æ‡‰               | ã€Œä¼ºæœå™¨ç„¡å›æ‡‰ï¼Œè«‹ç¨å€™...ã€          | ç­‰å¾…ä¼ºæœå™¨æ¢å¾©æˆ–è¶…æ™‚æç¤º |
| æˆ¿é–“ä¸å­˜åœ¨                 | ã€Œæˆ¿é–“ä¸å­˜åœ¨æˆ–å·²éæœŸã€               | æ‹’çµ•åŠ å…¥ï¼Œè¿”å›é¦–é        |
| æˆ¿é–“å·²æ»¿ï¼ˆè‹¥å¯¦ä½œå®¹é‡é™åˆ¶ï¼‰ | ã€Œæˆ¿é–“å·²æ»¿ï¼Œç„¡æ³•åŠ å…¥ã€               | æ‹’çµ•åŠ å…¥ï¼Œå»ºè­°å»ºç«‹æ–°æˆ¿é–“ |

### è¼¸å…¥éŒ¯èª¤

| é©—è­‰é …ç›®         | éŒ¯èª¤è¨Šæ¯                              | é©—è­‰æ™‚æ©Ÿ     |
| ---------------- | ------------------------------------- | ------------ |
| æˆ¿é–“ä»£ç¢¼         | ã€Œæˆ¿é–“ä»£ç¢¼é•·åº¦æ‡‰ç‚º 8 å€‹å­—å…ƒã€         | é‚Šè¼¸å…¥é‚Šæª¢æŸ¥ |
| æˆ¿é–“ä»£ç¢¼         | ã€Œæˆ¿é–“ä¸å­˜åœ¨ï¼Œè«‹æª¢æŸ¥ä»£ç¢¼ã€            | é»æ“ŠåŠ å…¥æ™‚   |
| å§“åç‚ºç©º         | ã€Œè«‹è¼¸å…¥å§“åã€                        | æäº¤æ™‚       |
| å§“åéçŸ­/éé•·    | ã€Œè«‹è¼¸å…¥ 2-10 å€‹ä¸­æ–‡å­—å…ƒã€            | é‚Šè¼¸å…¥é‚Šæª¢æŸ¥ |
| æ€§åˆ¥æœªé¸æ“‡       | ã€Œè«‹é¸æ“‡æ€§åˆ¥ã€                        | æäº¤æ™‚       |
| å‡ºç”Ÿæ—¥æœŸæ ¼å¼     | ã€Œè«‹è¼¸å…¥æœ‰æ•ˆçš„å‡ºç”Ÿæ—¥æœŸ (YYYY/MM/DD)ã€ | é‚Šè¼¸å…¥é‚Šæª¢æŸ¥ |
| å‡ºç”Ÿæ—¥æœŸè¶…å‡ºç¯„åœ | ã€Œå‡ºç”Ÿæ—¥æœŸä¸èƒ½æ˜¯æœªä¾†æ—¥æœŸã€            | é»æ“Šæäº¤æ™‚   |

### éŠæˆ²ç•°å¸¸

| ç•°å¸¸æƒ…æ³                   | ç©å®¶æç¤º                             | ç³»çµ±è¡Œç‚º               |
| -------------------------- | ------------------------------------ | ---------------------- |
| å˜—è©¦åŠ å…¥ä¸å­˜åœ¨çš„æˆ¿é–“       | ã€Œæˆ¿é–“ä¸å­˜åœ¨ã€                       | è¿”å›é¦–é                |
| å˜—è©¦ä»¥éæˆ¿ä¸»èº«ä»½å•Ÿå‹•éŠæˆ²   | ã€Œåƒ…æˆ¿ä¸»å¯å•Ÿå‹•éŠæˆ²ã€                 | ç¦ç”¨æŒ‰éˆ•               |
| éŠæˆ²ä¸­é€”åŠ å…¥ï¼ˆé€²è¡Œä¸­ç‹€æ…‹ï¼‰ | ã€ŒéŠæˆ²å·²é–‹å§‹ï¼Œæ‚¨å°‡ä»¥æ—è§€è€…èº«ä»½åŠ å…¥ã€ | è½‰ç‚ºæ—è§€è€…             |
| ç©å®¶è³‡æ–™ä¸å®Œæ•´æ™‚å•Ÿå‹•éŠæˆ²   | ã€Œæ‰€æœ‰ç©å®¶é ˆå¡«å¯«å®Œæ•´è³‡è¨Šæ‰èƒ½é–‹å§‹ã€   | æ‹’çµ•å•Ÿå‹•ã€æç¤ºç¼ºå¤±æ¬„ä½ |

---

## ğŸ“Š çµ±è¨ˆèˆ‡æ—¥èªŒ

### æˆ¿é–“æ´»å‹•æ—¥èªŒ

ç³»çµ±æ‡‰ç´€éŒ„ä»¥ä¸‹äº‹ä»¶ä¾›å¾ŒæœŸåˆ†æï¼š

```
[2026-02-24 10:30:00] æˆ¿é–“å»ºç«‹ - roomId: room_abc123, hostId: player_001
[2026-02-24 10:31:15] ç©å®¶åŠ å…¥ - playerId: player_002, name: ç‹å°æ
[2026-02-24 10:32:00] ç©å®¶åŠ å…¥ - playerId: player_003, name: ç‹äºŒå¦¹
[2026-02-24 10:32:30] éŠæˆ²å•Ÿå‹• - hostId: player_001, duration: 120ç§’
[2026-02-24 10:34:15] ç©å®¶é›¢ç·š - playerId: player_002
[2026-02-24 10:34:45] ç©å®¶é‡é€£ - playerId: player_002
[2026-02-24 10:35:30] æˆ¿ä¸»è½‰ç§» - oldHostId: player_001, newHostId: player_003
[2026-02-24 10:37:30] éŠæˆ²çµæŸ - roomId: room_abc123
```

### ç©å®¶æ´»å‹•çµ±è¨ˆ

- å–®æˆ¿é–“åœç•™æ™‚é–“
- é€£ç·šä¸­æ–·æ¬¡æ•¸
- è²¢ç»çš„ç­”æ¡ˆæ•¸
- ç²å¾—çš„ç©åˆ†
- æœ€çµ‚æ’å

---

## ğŸ¯ è¨­å®šèˆ‡èª¿æ•´åƒæ•¸

ä»¥ä¸‹åƒæ•¸å¯æ ¹æ“šå¯¦éš›é‹ç‡Ÿæƒ…æ³èª¿æ•´ï¼š

| åƒæ•¸åç¨±         | é è¨­å€¼  | èª¿æ•´å»ºè­°     |
| ---------------- | ------- | ------------ |
| å¿ƒè·³é–“éš”         | 30 ç§’   | 20-60 ç§’     |
| å¿ƒè·³è¶…æ™‚æ¬¡æ•¸     | 2 æ¬¡    | 1-3 æ¬¡       |
| é›¢ç·šåˆ¤å®šæ™‚é–“     | 1 åˆ†é˜  | 30 ç§’-5 åˆ†é˜ |
| æˆ¿ä¸»è½‰ç§»å»¶é²     | å³æ™‚    | å¯å»¶é² 30 ç§’ |
| æˆ¿é–“éæœŸæ™‚é–“     | 24 å°æ™‚ | 12-72 å°æ™‚   |
| é‡é€£æœ€å¤§é‡è©¦æ¬¡æ•¸ | 10 æ¬¡   | 5-20 æ¬¡      |
| é‡é€£æŒ‡æ•¸é€€é¿åŸºæ•¸ | 1.5 Ã—   | 1.2-2.0 Ã—    |
