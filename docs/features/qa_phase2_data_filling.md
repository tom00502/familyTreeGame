# éšæ®µ 2ï¼šè³‡æ–™å¡«å…… (Data Completion)

## ğŸ“Œ éšæ®µæ¦‚è¿°

**æ ¸å¿ƒç›®æ¨™**ï¼šé€éè³‡æ–™å¡«å……ï¼Œå®Œæˆæ‰€æœ‰**é—œéµç¯€é»**çš„ **EFU å®Œæ•´åŒ–**ï¼ˆEssential Family Unitï¼‰ï¼Œé€²è€Œå®Œæˆæœ€å°å¯è¡Œæ—è­œ (MVFT)

**EFU å®Œæ•´åŒ–å®šç¾©**ï¼šæ¯ä½é—œéµç¯€é»éƒ½æ“æœ‰å®Œæ•´çš„ä¸‰ç¶­åº¦è¦ªå±¬è³‡è¨Šï¼š

- âœ… **å‘ä¸Šç¶­åº¦**ï¼šçˆ¶è¦ªã€æ¯è¦ª
- âœ… **å‘å´ç¶­åº¦**ï¼šé…å¶ï¼ˆè‹¥å·²å©šï¼‰
- âœ… **å‘ä¸‹ç¶­åº¦**ï¼šæ‰€æœ‰å­å¥³

è©³è¦‹ [concepts/mvft.md ä¸­çš„ EFU å®šç¾©](../concepts/mvft.md#æ ¸å¿ƒå®¶åº­å–®å…ƒ-essential-family-unit-efu)ã€‚

**ç©å®¶é«”é©—**ï¼šæŒçºŒå›ç­”ã€Œè™›æ“¬ç¯€é»è³‡è¨Šã€çš„å„ç¨®é¡Œç›®ï¼ˆå§“åã€æ€§åˆ¥ã€ç”Ÿæ—¥ã€è¦ªå±¬ç¢ºèªç­‰ï¼‰ï¼Œä½†ç„¡æ³•çœ‹åˆ°å®Œæ•´æ—è­œçµæ§‹ã€‚ç©å®¶å›ç­”çš„æ¯å€‹å•é¡Œéƒ½ç¨ç«‹ä¸”äº’ä¸ç›¸é—œï¼Œä¸çŸ¥é“é€™äº›ç­”æ¡ˆå¦‚ä½•æ‹¼æ¹Šæˆæ—è­œ

**ç³»çµ±ç›®æ¨™**ï¼šåˆ©ç”¨ç©å®¶çš„åˆ†æ•£ç­”æ¡ˆï¼Œé€éã€Œç²å–æˆ–å»ºç«‹ã€(Get or Create) é‚è¼¯é€æ­¥æ§‹å»ºå®Œæ•´çš„è™›æ“¬ç¯€é»å®¶æ—æ¨¹ï¼Œä¸¦å®Œæˆæ‰€æœ‰é—œéµç¯€é»çš„ EFU å®Œæ•´åŒ–

**é—œéµåŸå‰‡**ï¼š

- **è³‡è¨Šå»é‡**ï¼šå·²åœ¨ Phase 1 æˆ–å…ˆå‰å›ç­”ä¸­ç¢ºèªçš„è³‡è¨Šï¼Œä¸å†é‡è¤‡è©¢å•
- **å³æ™‚å›å¡«**ï¼šç©å®¶æ¯å€‹å›ç­”éƒ½ç«‹å³å¯«å…¥éª¨æ¶æ—è­œï¼Œä»¥åˆ©å¾ŒçºŒä»»å‹™åˆ©ç”¨æœ€æ–°è³‡è¨Š
- **å§“åå„ªå…ˆ**ï¼šå…ˆå•ç¯€é»å§“åï¼Œæœ‰äº†å§“åå¾Œç”¨å§“åä½œç‚ºå¾ŒçºŒå•é¡Œä¸»è©ï¼Œå–ä»£ã€ŒXXXçš„èª°ã€
- **æ—è§€è€…åŒæ­¥**ï¼šæ¯æ¬¡å›ç­”å›å¡«å¾Œï¼Œå³æ™‚é€šçŸ¥æ—è§€è€…æ›´æ–°æ—è­œé¡¯ç¤º
- **å…¨å“¡å®Œç­”**ï¼šéšæ®µçµæŸéœ€åŒæ™‚æ»¿è¶³ EFU å®Œæˆæ¢ä»¶ã€ä»»å‹™éšŠåˆ—ç‚ºç©ºã€ä¸”æ‰€æœ‰å·²æ´¾ç™¼ä»»å‹™å‡å·²å›ç­”å®Œç•¢ã€‚ä¸å¯å› å–®ä¸€ç©å®¶å®Œæˆè€Œæå‰çµæŸï¼Œå¿…é ˆç­‰å¾…æ‰€æœ‰æ­£åœ¨ç­”é¡Œçš„ç©å®¶å®Œæˆç•¶å‰ä»»å‹™

---

## ğŸ¯ æœ€å°å¯è¡Œæ—è­œ (MVFT) æ¦‚è¿°

æœ¬éšæ®µçš„ç›®æ¨™æ˜¯é€éè³‡æ–™å¡«å……å®Œæˆ**æœ€å°å¯è¡Œæ—è­œ (MVFT)**ã€‚

âœ… **MVFT çš„è©³ç´°å®šç¾©ã€æ ¸å¿ƒæ¦‚å¿µèˆ‡å®Œæˆæ¨™æº–** â†’ è«‹æŸ¥é–± [concepts/mvft.md](../concepts/mvft.md)

æœ¬æ–‡ä»¶å°ˆæ³¨æ–¼è³‡æ–™å¡«å……éšæ®µçš„**ç­–ç•¥èˆ‡å¯¦ä½œ**ï¼ŒåŒ…æ‹¬ä»»å‹™é¡å‹ã€æ´¾ç™¼ç®—æ³•ã€å•é¡Œæ¨¡æ¿ç­‰ã€‚

---

## ï¿½ æ ¸å¿ƒè¡“èªå®šç¾©

### éª¨æ¶æ—è­œ (Skeleton MVFT)

**å®šç¾©**ï¼šæ—è­œåœ–åœ¨ã€Œéšæ®µä¸€ï¼šé—œä¿‚ç¢ºèªã€çµæŸå¾Œç”¢å‡ºçš„ä¸­é–“æ…‹é‚è¼¯æ¨¡å‹ã€‚å…·å‚™å®Œæ•´çš„åœ–è«–çµæ§‹èˆ‡é‚è¼¯ä¸€è‡´æ€§ï¼Œä½†ç¯€é»è³‡æ–™ä¸»è¦ç”±è™›æ“¬ç¯€é»æ§‹æˆã€‚

**ç‰¹å¾µ**ï¼š

| é¢å‘                              | ç‹€æ…‹      |
| --------------------------------- | --------- |
| çµæ§‹å®Œæ•´æ€§ (Structural Integrity) | âœ… å®Œæ•´   |
| è³‡æ–™å®Œæ•´æ€§ (Data Integrity)       | âŒ ä¸å®Œæ•´ |

**çµ„æˆå…ƒç´ **ï¼š

- **ç©å®¶ç¯€é»** (`isVirtual: false, isPlayer: true`)ï¼šæˆ¿é–“å…§çœŸå¯¦é€£ç·šçš„ç©å®¶
- **è™›æ“¬é—œéµç¯€é»** (`isVirtual: true, isKeyNode: true`)ï¼šä½æ–¼é—œéµè·¯å¾‘ä¸Šï¼Œé€£çµç©å®¶çš„ç¥–å…ˆæˆ–ä¸­é–“äºº
- **é è£½é‚Š (Prefab Edges)**ï¼šåŸºæ–¼ç¨±è¬è§£æå‡ºçš„é‚è¼¯é—œä¿‚ç·šï¼Œå¾…åç¨±èˆ‡é †åºå¡«å¯«

**ä½œç”¨**ï¼šä½œç‚ºã€Œé—œä¿‚é€£é€£çœ‹ã€ï¼ˆéšæ®µä¸€ï¼‰èˆ‡ã€Œè³‡æ–™æ¶ç­”ã€ï¼ˆéšæ®µäºŒï¼‰ä¹‹é–“çš„æ©‹æ¨‘ï¼Œå®šç¾©ã€Œå“ªäº›è³‡è¨Šæ˜¯å¿…é ˆå¡«å¯«çš„ã€ã€‚

### é—œéµç¯€é» (Key Node) vs è‘‰å­äººç‰© (Leaf Member)

**é—œéµç¯€é»**ï¼šä½æ–¼ç©å®¶é–“é—œéµè·¯å¾‘ä¸Šçš„ç¯€é»ã€‚

- **EFU å®Œæ•´åŒ–è¦æ±‚**ï¼šâš ï¸ **å¿…é ˆå®Œæ•´**ï¼ˆçˆ¶ã€æ¯ã€é…å¶ã€å­å¥³éƒ½å¿…é ˆæœ‰è¨˜éŒ„ï¼‰
- **ä»»å‹™æ´¾ç™¼å„ªå…ˆç´š**ï¼šæœ€é«˜ï¼ˆLevel 1-3ï¼‰
- **åˆ¤å®šæ–¹å¼**ï¼šä½¿ç”¨ BFS/DFS æ¼”ç®—æ³•å°‹æ‰¾ç©å®¶é–“æœ€çŸ­è·¯å¾‘ä¸Šçš„æ‰€æœ‰ç¯€é»
- **ä¾‹å­**ï¼šç©å®¶çš„çˆ¶è¦ªã€ç¥–çˆ¶æ¯ã€é…å¶ã€å­å¥³

**è‘‰å­äººç‰©**ï¼šEFU ä¸­çš„ç›¸é—œäººç‰©ï¼ˆçˆ¶ã€æ¯ã€é…å¶ã€å­å¥³ï¼‰ï¼Œä½†æœ¬èº«ä¸åœ¨ä»»ä½•ç©å®¶é–“é—œéµè·¯å¾‘ä¸Šçš„äººã€‚

- **EFU å®Œæ•´åŒ–è¦æ±‚**ï¼šâŒ **ä¸éœ€è¦**ï¼ˆåªéœ€å§“åã€æ€§åˆ¥ã€åŸºæœ¬å±¬æ€§ï¼‰
- **ä»»å‹™æ´¾ç™¼å„ªå…ˆç´š**ï¼šæ¬¡ä¹‹ï¼ˆLevel 4-6ï¼‰æˆ–å¯èƒ½ä¸æ´¾ç™¼
- **æ“´å¼µæ–¹å¼**ï¼š**çµ‚ç«¯æ“´å¼µ**ï¼ˆTerminal Expansionï¼‰ï¼Œä¸å°å…¶è¦ªå±¬é€²è¡Œå»¶ä¼¸è¿½è¹¤
- **ä¾‹å­**ï¼šç©å®¶çˆ¶è¦ªçš„çˆ¶è¦ªï¼ˆç©å®¶ç¥–çˆ¶æ¯ï¼‰ï¼Œç©å®¶é…å¶çš„è¦ªå‹ï¼Œéé—œéµè·¯å¾‘ä¸Šçš„å ‚å…„å¼Ÿ

---

## ï¿½ğŸ“ è³‡æ–™å¡«å……ä»»å‹™ç³»çµ±

### æ¦‚è¿°

è³‡æ–™å¡«å……éšæ®µé€éä¸ƒé¡ä»»å‹™é¡å‹çš„çµ„åˆï¼Œé€æ­¥å¯¦é«”åŒ–è™›æ“¬ç¯€é»ä¸¦å®Œæˆ MVFTã€‚å„ä»»å‹™é€é**å„ªå…ˆç´šåˆ†ç´šç³»çµ±**èˆ‡**ç¨ä½”æå•æ©Ÿåˆ¶**é€²è¡Œæ´¾ç™¼ï¼Œç¢ºä¿æ•ˆç‡èˆ‡è³‡æ–™æº–ç¢ºæ€§ã€‚
**ä»»å‹™ç›®æ¨™**ï¼šæ‰€æœ‰ä»»å‹™éƒ½åœç¹ã€Œå®Œæˆé—œéµç¯€é»çš„ EFU ä¸‰ç¶­åº¦ã€å±•é–‹ã€‚

### ğŸ“ EFU ä¸‰ç¶­åº¦ä»»å‹™åˆ†è§£

è³‡æ–™å¡«å……ä»»å‹™åœç¹ EFU çš„ä¸‰å€‹ç¶­åº¦çµ„ç¹”ï¼Œæ¯å€‹ç¶­åº¦å°æ‡‰ä¸åŒçš„å„ªå…ˆç´šèˆ‡ä»»å‹™é¡å‹ï¼š

| EFU ç¶­åº¦         | å„ªå…ˆç´š | æ ¸å¿ƒä»»å‹™ | ä»»å‹™é¡å‹                              | èªªæ˜                                           |
| ---------------- | ------ | -------- | ------------------------------------- | ---------------------------------------------- |
| **å‘ä¸Šï¼ˆçˆ¶æ¯ï¼‰** | L1     | è·¯å¾‘é–‰åˆ | å‘ä¸Šè¿½æº¯ + ç¯€é»å‘½å                   | ç¢ºèªé—œéµç¯€é»çš„çˆ¶è¦ªã€æ¯è¦ªï¼Œå»ºç«‹ä»£éš›é€£çµ         |
| **å‘å´ï¼ˆé…å¶ï¼‰** | L2     | æ©«å‘è£œé½Š | **é…å¶è©¢å•** + å±¬æ€§å¡«å……ï¼ˆæ€§åˆ¥ã€å§“åï¼‰ | ä¸»å‹•è©¢å•é—œéµç¯€é»æ˜¯å¦æœ‰é…å¶ï¼Œä¸¦å»¶ä¼¸å¡«å……é…å¶è³‡è¨Š |
| **å‘ä¸‹ï¼ˆå­å¥³ï¼‰** | L2     | ä¸‹ä»£ç¢ºèª | **å­å¥³è©¢å•** + ç¯€é»å‘½å + å±¬æ€§å¡«å……    | ä¸»å‹•è©¢å•é—œéµç¯€é»æœ‰å¹¾å€‹å­å¥³ï¼Œå»¶ä¼¸å¡«å……å­å¥³è³‡è¨Š   |
| **æ—ç³»è£œå……**     | L4-6   | å¯é¸æ“´å¼µ | ç¯€é»åŒ¯èšã€æ’åºç¢ºèªã€å±¬æ€§è£œå……          | è£œå……éé—œéµè·¯å¾‘ä¸Šçš„è¦ªå±¬è³‡è¨Šï¼ˆå¯é¸ï¼‰             |

> âš ï¸ **é‡è¦**ï¼šå‘å´èˆ‡å‘ä¸‹ç¶­åº¦ä¸èƒ½åƒ…ä¾è³´è¢«å‹•æª¢æŸ¥ï¼ˆå¦‚ `spouseIds` æ˜¯å¦ç‚ºç©ºï¼‰ï¼Œå¿…é ˆé€é**ä¸»å‹•è©¢å•**ï¼ˆé…å¶è©¢å• / å­å¥³è©¢å•ï¼‰ä¾†ç¢ºèªã€‚æœªç¶“è©¢å•çš„ç¯€é»ï¼Œå…¶ lateral / downward ç‹€æ…‹ä¸èƒ½è¢«è¦–ç‚ºå·²å®Œæˆã€‚

> âš ï¸ **å‘ä¸Šå„ªå…ˆåŸå‰‡**ï¼šä»»å‹™ç”Ÿæˆèˆ‡æ´¾ç™¼é †åºå¿…é ˆåš´æ ¼éµå¾ª **å‘ä¸Š â†’ å‘å´ â†’ å‘ä¸‹** çš„é †åºã€‚å‘ä¸Šæå•ï¼ˆã€ŒXXXçš„çˆ¸çˆ¸/åª½åª½æ˜¯èª°ï¼Ÿã€ï¼‰å¤©ç„¶å”¯ä¸€ï¼Œæ¯äººåªæœ‰ä¸€å€‹çˆ¶è¦ªå’Œä¸€å€‹æ¯è¦ªï¼Œå›ç­”ç²¾ç¢ºåº¦é«˜ã€‚è€Œå‘ä¸‹æå•ï¼ˆã€ŒXXXçš„å…’å­å«ä»€éº¼åå­—ï¼Ÿã€ï¼‰åœ¨ç¯€é»æœ‰å¤šå€‹å­å¥³æ™‚ä¸å¤ ç²¾ç¢ºï¼Œå®¹æ˜“é€ æˆèª¤åˆ¤ã€‚å› æ­¤ç³»çµ±æ‡‰ï¼š
>
> 1. **å„ªå…ˆç”Ÿæˆä¸¦æ´¾ç™¼å‘ä¸Šè¿½æº¯ä»»å‹™**ï¼ˆL1ï¼‰
> 2. å‘ä¸Šç¶­åº¦ç¢ºèªå¾Œå†è™•ç†å‘å´/å‘ä¸‹ç¶­åº¦ï¼ˆL2ï¼‰
> 3. å‘ä¸‹æ–¹å‘çš„å­å¥³ç¢ºèªï¼Œæ‡‰å…ˆå•ã€Œæœ‰å¹¾å€‹å­å¥³ã€ï¼ˆå­å¥³è©¢å•ï¼‰ï¼Œå†é€ä¸€å‘½åæ¯å€‹å­å¥³ï¼Œé¿å…ç”¨ã€ŒXXXçš„å…’å­å«ä»€éº¼ã€é€™é¡æ¨¡ç³Šæå•

---

## ğŸ“ ä¸ƒé¡ä»»å‹™é¡å‹

### ä»»å‹™é¡å‹ 1ï¼šç¯€é»å‘½å (Node Naming)

**[EFU ç¶­åº¦] å‘ä¸Š / å‘ä¸‹ | [å„ªå…ˆç´š] L1 / L2**

**è§¸ç™¼æ¢ä»¶**ï¼šè™›æ“¬ç¯€é»å­˜åœ¨ä½†å§“åç‚ºç©º

**æå•æ¨¡æ¿**ï¼š

```
ã€Œä½ çš„ {node_label} å«ä»€éº¼åå­—ï¼Ÿã€
ã€Œè«‹å•{node_name}çš„çˆ¶è¦ªå«ä»€éº¼åå­—ï¼Ÿã€
ã€Œæœ‰äººè¨˜å¾—é€™ä½{node_label}çš„åå­—å—ï¼Ÿã€
```

**å­å¥³å‘½åæ¶ˆæ­§ç¾©è¦å‰‡**ï¼š

ç•¶ç›®æ¨™ç¯€é»æ˜¯æŸçˆ¶æ¯çš„å­å¥³ï¼Œä¸”è©²çˆ¶æ¯æœ‰å¤šå€‹å­å¥³æ™‚ï¼Œæå•å¿…é ˆåˆ—å‡ºå·²çŸ¥å…„å¼Ÿå§Šå¦¹çš„åå­—ä»¥é¿å…é‡è¤‡å¡«å¯«ï¼š

```
å·²çŸ¥å…„å¼Ÿå§Šå¦¹ç‚ºç©ºæ™‚ï¼šã€Œ{parent_name}çš„å­å¥³å«ä»€éº¼åå­—ï¼Ÿã€
å·²çŸ¥å…„å¼Ÿå§Šå¦¹ä¸ç‚ºç©ºæ™‚ï¼šã€Œ{parent_name}çš„å­å¥³é™¤äº† {å·²çŸ¥åå­—1}ã€{å·²çŸ¥åå­—2} ä»¥å¤–ï¼Œé‚„æœ‰èª°ï¼Ÿã€
```

ä»»å‹™æ¬„ä½ï¼š

- `siblingIndex`ï¼šæ­¤å­å¥³åœ¨çˆ¶æ¯ childrenIds ä¸­çš„åºè™Ÿï¼ˆ1-basedï¼‰
- `knownSiblingNames`ï¼šåŒçˆ¶æ¯çš„å…¶ä»–å·²å‘½åå…„å¼Ÿå§Šå¦¹åå­—åˆ—è¡¨
- `parentName`ï¼šçˆ¶æ¯ç¯€é»çš„åå­—ï¼ˆæˆ–è·¯å¾‘æè¿°ï¼‰

ç•¶ä¸€ä½å­å¥³è¢«å‘½åå¾Œï¼Œç³»çµ±è‡ªå‹•å°‡æ–°åå­—åŠ å…¥å…¶ä»–æœªå‘½åå…„å¼Ÿå§Šå¦¹ä»»å‹™çš„ `knownSiblingNames` ä¸­ã€‚

**ç©å®¶æ“ä½œ**ï¼š

- è¼¸å…¥ 2-20 å€‹ä¸­æ–‡å­—å…ƒçš„å§“å
- å¯é¸æ“‡ã€Œä¸çŸ¥é“ã€ï¼ˆä»»å‹™é‡æ–°åˆ†æ´¾ï¼‰
- å¯é¸æ“‡ã€Œè·³éã€ï¼ˆä»»å‹™å»¶å¾Œï¼‰

---

### ä»»å‹™é¡å‹ 2ï¼šå±¬æ€§å¡«å…… (Attribute Filling)

**[EFU ç¶­åº¦] å‘ä¸Š / å‘å´ / å‘ä¸‹ | [å„ªå…ˆç´š] L2 / L3**

**è§¸ç™¼æ¢ä»¶**ï¼šç¯€é»å·²æœ‰å§“åï¼Œä½†ç¼ºå°‘æ€§åˆ¥ã€ç”Ÿæ—¥æˆ–å¹´é½¡è³‡è¨Š

**æå•æ¨¡æ¿**ï¼š

```
ã€Œ{node_name}æ˜¯ç”·æ€§é‚„æ˜¯å¥³æ€§ï¼Ÿã€
ã€Œæœ‰äººè¨˜å¾—{node_name}çš„ç”Ÿæ—¥æˆ–å¤§ç´„å¹¾æ­²å—ï¼Ÿã€
ã€Œ{node_name}å¤§ç´„æ˜¯å¹¾å¹´å‡ºç”Ÿï¼Ÿã€
```

**ç©å®¶æ“ä½œ**ï¼š

- æ€§åˆ¥ï¼šäºŒé¸ä¸€ï¼ˆç”·æ€§/å¥³æ€§ï¼‰æˆ–ã€Œä¸çŸ¥é“ã€
- ç”Ÿæ—¥ï¼šè¼¸å…¥ YYYY/MM/DD æˆ–ã€Œä¸çŸ¥é“ã€
- å¹´é½¡ï¼šè¼¸å…¥æ•¸å­—æˆ–ã€Œä¸çŸ¥é“ã€

---

### ä»»å‹™é¡å‹ 3ï¼šå‘ä¸Šè¿½æº¯ (Upward Tracing)

**[EFU ç¶­åº¦] å‘ä¸Š | [å„ªå…ˆç´š] L1**

**è§¸ç™¼æ¢ä»¶**ï¼šç•¶å‰ç¯€é»æ˜¯é—œéµè·¯å¾‘ä¸Šçš„ç¯€é»ï¼Œä½†å…¶çˆ¶è¦ªæˆ–æ¯è¦ªç‚ºç©º

**æå•æ¨¡æ¿**ï¼š

```
ã€Œ{node_name}çš„çˆ¶è¦ªæ˜¯èª°ï¼Ÿã€
ã€Œ{node_name}çš„æ¯è¦ªå«ä»€éº¼åå­—ï¼Ÿã€
ã€Œæœ‰äººçŸ¥é“{node_name}å¤§æ¦‚çš„ä¸Šè¼©æ˜¯èª°å—ï¼Ÿã€
```

**ç©å®¶æ“ä½œ**ï¼š

- è‹¥çŸ¥æƒ…ï¼šè¼¸å…¥è™›æ“¬ç¯€é»è©²ç¥–ä»£è¦ªæˆšçš„åå­—ï¼Œæˆ–ç¢ºèªå·²æœ‰çš„åå­—
- è‹¥ä¸çŸ¥é“ï¼šé¸æ“‡ã€Œä¸çŸ¥é“ã€
- è‹¥æ¶‰åŠå¤šå€‹å¯èƒ½çš„ç­”æ¡ˆï¼šé¸æ“‡ã€Œä¸ç¢ºå®šã€ï¼ˆæ¨™è¨˜ç‚ºå¾…ç¢ºèªï¼‰

---

### ä»»å‹™é¡å‹ 4ï¼šç¯€é»åŒ¯èš (Node Convergence)

**[EFU ç¶­åº¦] å‘ä¸Š / å‘å´ / å‘ä¸‹ï¼ˆè¡çªé©—è­‰ï¼‰ | [å„ªå…ˆç´š] L2**

**è§¸ç™¼æ¢ä»¶**ï¼š

1. **åŒååµæ¸¬ï¼ˆè‡ªå‹•è§¸ç™¼ï¼‰**ï¼šç•¶æŸå€‹è™›æ“¬ç¯€é»è¢«å‘½åå¾Œï¼Œç³»çµ±è‡ªå‹•æƒææ‰€æœ‰å·²å‘½åçš„è™›æ“¬ç¯€é»ï¼Œè‹¥ç™¼ç¾å…¶ä»–ç¯€é»åŒåï¼ˆä½† ID ä¸åŒï¼‰ï¼Œç«‹å³ç”¢ç”ŸåŒ¯èšç¢ºèªä»»å‹™ä¸¦æ’å…¥ä»»å‹™éšŠåˆ—é ­éƒ¨
2. **è·¯å¾‘åŒ¯èšæ¨å°**ï¼šç³»çµ±æ ¹æ“šè¦ªå±¬é—œä¿‚æ¨å°å‡ºå…©æ¢è·¯å¾‘æ‡‰è©²åŒ¯èš

**æå•æ¨¡æ¿**ï¼š

```
ã€Œ{path_A_label}ï¼ˆ{name}ï¼‰å’Œ{path_B_label}ï¼ˆ{name}ï¼‰æ˜¯åŒä¸€å€‹äººå—ï¼Ÿã€
ä¾‹ï¼šã€ŒAçš„ç¥–çˆ¶ï¼ˆç‹å¤§æ˜ï¼‰å’Œ Bçš„ç¥–çˆ¶ï¼ˆç‹å¤§æ˜ï¼‰æ˜¯åŒä¸€å€‹äººå—ï¼Ÿã€
```

**èƒŒæ™¯**ï¼š

- ä¸åŒç©å®¶å¯èƒ½å¾ä¸åŒé€”å¾‘æåˆ°åŒä¸€å€‹äººï¼ˆä¾‹ï¼šA å’Œ B éƒ½èªªç¥–çˆ¶å«ã€Œç‹å¤§æ˜ã€ï¼Œä½†ç³»çµ±å»ºç«‹äº†å…©å€‹ä¸åŒçš„è™›æ“¬ç¯€é»ï¼‰
- ç³»çµ±ä½¿ç”¨**è·¯å¾‘æè¿°**ä¾†å¹«åŠ©ç©å®¶è¾¨è­˜ï¼Œä¾‹å¦‚ã€ŒAçš„ç¥–çˆ¶ã€èˆ‡ã€ŒBçš„ç¥–çˆ¶ã€
- æ­¤ä»»å‹™ç¢ºèªé€™å…©æ¢è·¯å¾‘æ˜¯å¦æŒ‡å‘åŒä¸€äºº

**ç©å®¶æ“ä½œ**ï¼š

- **æ˜¯åŒä¸€äºº**ï¼šé¸æ“‡ã€Œæ˜¯ã€â†’ ç³»çµ±åˆä½µå…©å€‹è™›æ“¬ç¯€é»ï¼ˆä¿ç•™å…¶ä¸€ï¼Œåˆªé™¤å¦ä¸€å€‹ï¼‰ï¼Œä¸¦æ›´æ–°æ‰€æœ‰å¼•ç”¨
- **ä¸æ˜¯åŒä¸€äºº**ï¼šé¸æ“‡ã€Œå¦ã€â†’ ç¶­æŒå…©å€‹ç¨ç«‹ç¯€é»
- æˆ–ã€Œä¸ç¢ºå®šã€ï¼ˆæ¨™è¨˜ç‚ºå¾…ç¢ºèªï¼‰

**åˆä½µé‚è¼¯**ï¼š

| åˆä½µé …ç›®       | è¦å‰‡                                                             |
| -------------- | ---------------------------------------------------------------- |
| å§“å/æ€§åˆ¥/ç”Ÿæ—¥ | ä¿ç•™å·²æœ‰å€¼ï¼Œè£œå……ç¼ºå¤±å€¼                                           |
| çˆ¶/æ¯ ID       | ä¿ç•™å·²æœ‰å€¼ï¼Œè£œå……ç¼ºå¤±å€¼                                           |
| é…å¶/å­å¥³      | å–è¯é›†ï¼ˆå»é‡ï¼‰                                                   |
| EFU ç‹€æ…‹       | å– ORï¼ˆä»»ä¸€å®Œæˆå³è¦–ç‚ºå®Œæˆï¼‰                                      |
| é—œéµè·¯å¾‘       | ä»»ä¸€ç‚ºé—œéµç¯€é»å‰‡ä¿ç•™                                             |
| å…¶ä»–ç¯€é»å¼•ç”¨   | æ‰€æœ‰å¼•ç”¨è¢«åˆä½µç¯€é» ID çš„åœ°æ–¹ï¼Œå…¨éƒ¨æ›¿æ›ç‚ºä¿ç•™ç¯€é» ID              |
| ç›¸é—œä»»å‹™       | ç§»é™¤æ‰€æœ‰å¼•ç”¨è¢«åˆä½µç¯€é»çš„æœªå®Œæˆä»»å‹™ï¼Œé¿å…å°å·²ä¸å­˜åœ¨çš„ç¯€é»ç¹¼çºŒæå• |

---

### ä»»å‹™é¡å‹ 5ï¼šæ’åºç¢ºèª (Age Ordering)

**[EFU ç¶­åº¦] å‘ä¸Š / å‘å´ / å‘ä¸‹ï¼ˆæ©«å‘æ¯”è¼ƒï¼‰ | [å„ªå…ˆç´š] L3-L5**

**è§¸ç™¼æ¢ä»¶**ï¼šç³»çµ±éœ€è¦ç¢ºèªå¤šå€‹åŒè¼©æˆ–ç›¸é„°ä»£æ•¸çš„ç¯€é»ä¹‹é–“çš„å¹´é½¡å¤§å°é—œä¿‚

**æå•æ¨¡æ¿**ï¼š

```
ã€Œ{node_A}èˆ‡{node_B}èª°çš„å¹´ç´€æ¯”è¼ƒå¤§ï¼Ÿã€
ã€ŒæŒ‰å‡ºç”Ÿé †åºï¼Œä¸‹åˆ—äººèª°æœ€å¹´é•·ï¼Ÿ{list}ã€
```

**ç©å®¶æ“ä½œ**ï¼š

- é¸æ“‡æ›´å¹´é•·è€…
- è‹¥ç„¡æ³•åˆ¤æ–·ï¼šé¸æ“‡ã€Œä¸çŸ¥é“ã€

---

### ä»»å‹™é¡å‹ 6ï¼šé…å¶è©¢å• (Lateral Inquiry)

**[EFU ç¶­åº¦] å‘å´ | [å„ªå…ˆç´š] L2**

**è§¸ç™¼æ¢ä»¶**ï¼šé—œéµç¯€é»ï¼ˆåŒ…å«ç©å®¶æœ¬èº«ï¼‰çš„ `efuStatus.lateral` ç‚º `false`ï¼Œä¸”å°šæœªè¢«è©¢å•éæ˜¯å¦æœ‰é…å¶

**æå•æ¨¡æ¿**ï¼š

```
ã€Œ{node_name} æœ‰çµå©šå—ï¼Ÿï¼ˆæˆ–æœ‰é…å¶/ä¼´ä¾¶å—ï¼Ÿï¼‰ã€
ã€Œ{node_name} æ˜¯å¦å·²å©šï¼Ÿã€
```

**ç©å®¶æ“ä½œ**ï¼š

- **æœ‰é…å¶**ï¼šé¸æ“‡ã€Œæœ‰ã€â†’ ç³»çµ±å‹•æ…‹å»ºç«‹é…å¶è™›æ“¬ç¯€é»ï¼Œä¸¦æ¥çºŒç”¢ç”Ÿè©²é…å¶çš„å‘½åä»»å‹™
- **æ²’æœ‰é…å¶**ï¼šé¸æ“‡ã€Œæ²’æœ‰ã€â†’ ç³»çµ±æ¨™è¨˜è©²ç¯€é» `efuStatus.lateral = true`ï¼ˆå·²ç¢ºèªç„¡é…å¶ï¼‰
- **ä¸çŸ¥é“**ï¼šé¸æ“‡ã€Œä¸çŸ¥é“ã€â†’ ä»»å‹™é‡æ–°åˆ†æ´¾çµ¦å…¶ä»–ç©å®¶

**å¾ŒçºŒå‹•ä½œ**ï¼š

| ç©å®¶å›ç­” | ç³»çµ±å‹•ä½œ                                                    |
| -------- | ----------------------------------------------------------- |
| æœ‰é…å¶   | å»ºç«‹é…å¶è™›æ“¬ç¯€é» â†’ ç”¢ç”Ÿå‘½åä»»å‹™ï¼ˆL1ï¼‰ â†’ æ¨™è¨˜ lateral = true |
| æ²’æœ‰é…å¶ | æ¨™è¨˜ `efuStatus.lateral = true`                             |
| ä¸çŸ¥é“   | ä»»å‹™é‡æ–°åˆ†æ´¾ï¼Œé™ä½å„ªå…ˆç´š                                    |

**è³‡è¨Šå»é‡**ï¼šè‹¥è©²ç¯€é»åœ¨ Phase 1 çš„ relationships ä¸­å·²æœ‰ `S` (Spouse) é‚Šï¼Œä»£è¡¨é…å¶å·²é€éå…¶ä»–ç©å®¶é™³è¿°å¾—çŸ¥ï¼Œå‰‡ï¼š

- è·³éæ­¤è©¢å•ä»»å‹™
- ç›´æ¥æ¨™è¨˜ `efuStatus.lateral = true`

---

### ä»»å‹™é¡å‹ 7ï¼šå­å¥³è©¢å• (Downward Inquiry)

**[EFU ç¶­åº¦] å‘ä¸‹ | [å„ªå…ˆç´š] L2**

**è§¸ç™¼æ¢ä»¶**ï¼šé—œéµç¯€é»ï¼ˆåŒ…å«ç©å®¶æœ¬èº«ï¼‰çš„ `efuStatus.downward` ç‚º `false`ï¼Œä¸”å°šæœªè¢«è©¢å•éæ˜¯å¦æœ‰å­å¥³

**æå•æ¨¡æ¿**ï¼š

```
ã€Œ{node_name} æœ‰å¹¾å€‹å°å­©ï¼Ÿã€
ã€Œ{node_name} æœ‰å­å¥³å—ï¼Ÿæœ‰çš„è©±æœ‰å¹¾ä½ï¼Ÿã€
```

**ç©å®¶æ“ä½œ**ï¼š

- **æœ‰å­å¥³**ï¼šè¼¸å…¥å­å¥³æ•¸é‡ï¼ˆ1-20ï¼‰â†’ ç³»çµ±å‹•æ…‹å»ºç«‹å°æ‡‰æ•¸é‡çš„å­å¥³è™›æ“¬ç¯€é»ï¼Œä¸¦ä¾åºç”¢ç”Ÿæ¯ä½å­å¥³çš„å‘½åä»»å‹™èˆ‡æ€§åˆ¥ç¢ºèªä»»å‹™
- **æ²’æœ‰å­å¥³**ï¼šé¸æ“‡ã€Œæ²’æœ‰ã€â†’ ç³»çµ±æ¨™è¨˜è©²ç¯€é» `efuStatus.downward = true`ï¼ˆå·²ç¢ºèªç„¡å­å¥³ï¼‰
- **ä¸çŸ¥é“**ï¼šé¸æ“‡ã€Œä¸çŸ¥é“ã€â†’ ä»»å‹™é‡æ–°åˆ†æ´¾çµ¦å…¶ä»–ç©å®¶

**å¾ŒçºŒå‹•ä½œ**ï¼š

| ç©å®¶å›ç­”    | ç³»çµ±å‹•ä½œ                                                                              |
| ----------- | ------------------------------------------------------------------------------------- |
| æœ‰ N å€‹å­å¥³ | å»ºç«‹ N å€‹å­å¥³è™›æ“¬ç¯€é» â†’ æ¯ä½ç”¢ç”Ÿå‘½åï¼ˆL1ï¼‰+ æ€§åˆ¥ç¢ºèªï¼ˆL2ï¼‰ä»»å‹™ â†’ æ¨™è¨˜ downward = true |
| æ²’æœ‰å­å¥³    | æ¨™è¨˜ `efuStatus.downward = true`                                                      |
| ä¸çŸ¥é“      | ä»»å‹™é‡æ–°åˆ†æ´¾ï¼Œé™ä½å„ªå…ˆç´š                                                              |

**è³‡è¨Šå»é‡**ï¼šè‹¥è©²ç¯€é»åœ¨ Phase 1 çš„ relationships æˆ–å·²å»ºç«‹çš„è™›æ“¬ç¯€é»ä¸­å·²æœ‰ `C_m` / `C_f` é‚Šï¼ˆå³ç³»çµ±å·²çŸ¥éƒ¨åˆ†å­å¥³ï¼‰ï¼Œå‰‡ï¼š

- è©¢å•æ™‚æä¾›å·²çŸ¥å­å¥³è³‡è¨Šï¼šã€Œ{node_name} ç›®å‰å·²çŸ¥æœ‰ {count} ä½å­å¥³ï¼ˆ{names}ï¼‰ï¼Œé‚„æœ‰å…¶ä»–å­å¥³å—ï¼Ÿã€
- ç©å®¶å›ç­”ã€Œæ²’æœ‰å…¶ä»–ã€â†’ æ¨™è¨˜ downward = true
- ç©å®¶å›ç­”ã€Œé‚„æœ‰ M ä½ã€â†’ å»ºç«‹é¡å¤– M å€‹å­å¥³è™›æ“¬ç¯€é»

**æ’åºé‚è¼¯**ï¼šå­å¥³å»ºç«‹å¾Œï¼Œè‹¥æœ‰ 2 ä½ä»¥ä¸Šï¼Œç³»çµ±æœƒåœ¨æ‰€æœ‰å­å¥³å‘½åå®Œæˆå¾Œè‡ªå‹•ç”¢ç”Ÿä¸€å€‹ã€Œæ’åºç¢ºèªã€ä»»å‹™ï¼ˆL3ï¼‰ï¼Œç¢ºèªé•·å¹¼é †åºã€‚

---

## ğŸ¯ ä»»å‹™æ´¾ç™¼ç­–ç•¥

### å„ªå…ˆç´šåˆ†ç´šç³»çµ±

ç³»çµ±ä½¿ç”¨**å¤šç¶­åº¦è©•åˆ†æ¨¡å‹**æ±ºå®šå°‡å“ªå€‹ä»»å‹™åˆ†æ´¾çµ¦å“ªä½ç©å®¶ã€‚æ­¤è¡¨æ•´åˆäº†ä»»å‹™å„ªå…ˆç´šèˆ‡ EFU å®Œæ•´åŒ–ç›®æ¨™çš„å°æ‡‰é—œä¿‚ï¼š

> âš ï¸ **å‘ä¸Šå„ªå…ˆåŸå‰‡**ï¼šç³»çµ±**å¿…é ˆå„ªå…ˆå®Œæˆå‘ä¸Šç¶­åº¦ï¼ˆçˆ¶æ¯ç¢ºèªï¼‰**ï¼Œå†è™•ç†å‘å´ã€å‘ä¸‹ç¶­åº¦ã€‚å› ç‚ºå¾ä¸Šè€Œä¸‹çš„æå•ï¼ˆå¦‚ã€ŒXXXçš„å…’å­å«ä»€éº¼åå­—ã€ï¼‰ä¸å¤ ç²¾ç¢º â€” ç•¶ç¯€é»æœ‰å¤šå€‹å­å¥³æ™‚ï¼Œç„¡æ³•ç¢ºå®šæ˜¯åœ¨å•å“ªä¸€å€‹å­å¥³ï¼Œå®¹æ˜“é€ æˆèª¤åˆ¤ã€‚è€Œå‘ä¸Šæå•ï¼ˆå¦‚ã€ŒXXXçš„çˆ¸çˆ¸å«ä»€éº¼åå­—ã€ï¼‰å¤©ç„¶å”¯ä¸€ï¼Œæ¯äººåªæœ‰ä¸€å€‹çˆ¶è¦ªã€ä¸€å€‹æ¯è¦ªã€‚

| å„ªå…ˆç´š | EFU å®Œæ•´åŒ–éšæ®µ | ä»»å‹™é¡å‹                                      | EFU ç¶­åº¦       | ç›®æ¨™                   | æ¬Šé‡ | ä¾‹å­                           |
| ------ | -------------- | --------------------------------------------- | -------------- | ---------------------- | ---- | ------------------------------ |
| **L1** | âœ… å¿…éœ€        | å‘ä¸Šè¿½æº¯ + ç¯€é»å‘½å                           | å‘ä¸Š           | è·¯å¾‘é–‰åˆï¼ˆçˆ¶æ¯ç¢ºèªï¼‰   | 100% | å¡«å¯«ç©å®¶çˆ¶æ¯ã€ç¥–çˆ¶æ¯è³‡è¨Š       |
| **L2** | âœ… å¿…éœ€        | **é…å¶è©¢å• + å­å¥³è©¢å•** + ç¯€é»åŒ¯èš + å±¬æ€§å¡«å…… | å‘å´/å‘ä¸‹      | æ©«å‘è£œé½Šï¼ˆé…å¶ã€å­å¥³ï¼‰ | 80%  | è©¢å•ç©å®¶æ˜¯å¦æœ‰é…å¶ã€æœ‰å¹¾å€‹å°å­© |
| **L3** | âœ… å¿…éœ€        | å±¬æ€§å¡«å……ï¼ˆé—œéµè·¯å¾‘ï¼‰                          | å‘ä¸Š/å‘å´/å‘ä¸‹ | è£œé½Šé—œéµè·¯å¾‘è©³ç´°è³‡è¨Š   | 60%  | å¡«å¯«çˆ¶è¦ªçš„ç”Ÿæ—¥ã€é…å¶è³‡è¨Š       |
| **L4** | âŒ å¯é¸        | ç¯€é»å‘½åï¼ˆæ—ç³»ï¼‰                              | â€”              | æ“´å¼µæ—ç³»è¦ªå±¬è³‡è¨Š       | 40%  | å¡«å¯«ä¼¯çˆ¶ã€å ‚å…„å¼Ÿçš„åå­—         |
| **L5** | âŒ å¯é¸        | æ’åºç¢ºèª                                      | â€”              | é‚è¼¯é©—è­‰èˆ‡è¦–è¦ºæ’åº     | 30%  | ç¢ºèªå”å”èˆ‡çˆ¶è¦ªèª°æ›´å¹´é•·         |
| **L6** | âŒ å¯é¸        | å±¬æ€§å¡«å……ï¼ˆæ—ç³»ï¼‰                              | â€”              | è£œå……é¸æ“‡è³‡è¨Š           | 20%  | å¡«å¯«å ‚å¼Ÿçš„ç”Ÿæ—¥                 |

**èªªæ˜**ï¼š

- **L1-L3ï¼ˆè—è‰²å¿…éœ€ï¼‰**ï¼šèˆ‡é—œéµç¯€é»çš„ EFU å®Œæ•´åŒ–ç›´æ¥ç›¸é—œï¼Œç¢ºä¿ç¬¬äºŒéšæ®µæœ€æ ¸å¿ƒçš„ç›®æ¨™é”æˆ
- **L4-L6ï¼ˆç°è‰²å¯é¸ï¼‰**ï¼šè£œå……éé—œéµè·¯å¾‘çš„è¦ªå±¬è³‡è¨Šï¼Œæå‡æ—è­œè±å¯Œåº¦ä½†éå¿…éœ€

### å„ªå…ˆç´šè¨ˆç®—å…¬å¼

ç³»çµ±ä»¥**å¤šç¶­åº¦è©•åˆ†æ¨¡å‹**ç‚ºæ¯å€‹ã€Œç©å®¶ Ã— ä»»å‹™ã€é…å°è¨ˆç®—åˆ†æ•¸ï¼Œé¸å‡ºæœ€é«˜åˆ†çš„é…å°é€²è¡Œæ´¾ç™¼ã€‚å„ªå…ˆç´šåˆ†æ•¸èˆ‡ EFU å®Œæ•´åŒ–çš„å„ªå…ˆç´šç·Šå¯†æ›é‰¤ï¼š

**L1-L3 ä»»å‹™ï¼ˆEFU å®Œæ•´åŒ–å¿…éœ€ï¼‰** çš„å„ªå…ˆç´šåˆ†æ•¸è¨ˆç®—ï¼š

```
Priority Score = (0.6 Ã— Proximity) + (0.2 Ã— ContributionScore) + (0.1 Ã— RandomValue) - (0.1 Ã— SkipCount)
```

**L4-L6 ä»»å‹™ï¼ˆå¯é¸æ“´å¼µï¼‰** çš„å„ªå…ˆç´šåˆ†æ•¸æœƒè¢«é€²ä¸€æ­¥è¡°æ¸›ï¼Œç¢ºä¿ L1-L3 ä»»å‹™å§‹çµ‚å„ªå…ˆæ´¾ç™¼ã€‚

| ç¶­åº¦                        | æ¬Šé‡ | èªªæ˜                                                                                |
| --------------------------- | ---- | ----------------------------------------------------------------------------------- |
| Proximityï¼ˆé—œä¿‚é„°è¿‘åº¦ï¼‰     | 0.6  | BFS è·é›¢è¶Šè¿‘åˆ†æ•¸è¶Šé«˜ï¼Œè¦‹ã€Œè¦å‰‡ 1ï¼šé—œä¿‚è¦ªè¿‘å„ªå…ˆã€ã€‚èˆ‡ EFU ç¶­åº¦çš„é—œè¯æ€§è¶Šå¼·ï¼Œåˆ†æ•¸è¶Šé«˜ |
| ContributionScoreï¼ˆè²¢ç»åº¦ï¼‰ | 0.2  | å·²å®Œæˆä»»å‹™æ•¸æ¯”ä¾‹ï¼Œç¢ºä¿åƒèˆ‡æ©Ÿæœƒå‡è¡¡ï¼Œé˜²æ­¢å–®äººå£Ÿæ–·é¡Œç›®                                |
| RandomValueï¼ˆéš¨æ©Ÿå› å­ï¼‰     | 0.1  | `[0, 1]` éš¨æ©Ÿæ•¸ï¼Œå¢åŠ å¤šæ¨£æ€§ï¼Œé¿å…æ¼”ç®—æ³•éåº¦æ±ºå®šè«–                                   |
| SkipCountï¼ˆè·³éæ¬¡æ•¸æ‡²ç½°ï¼‰   | 0.1  | æ­¤ä»»å‹™å·²è¢«è·³éçš„æ¬¡æ•¸ï¼Œæ¯è·³éä¸€æ¬¡é™ä½åˆ†æ•¸ã€‚L1-L3 ä»»å‹™è¢«è·³éæ™‚æ‡²ç½°æ›´é‡                |

> ğŸ’° **åˆ†æ•¸å¦‚ä½•è¨ˆç®—** â†’ è«‹æŸ¥é–± [scoring_system.md](./scoring_system.md)

### æ´¾ç™¼ç®—æ³•è¦å‰‡

#### è¦å‰‡ 1ï¼šé—œä¿‚è¦ªè¿‘å„ªå…ˆ

ä»»å‹™å„ªå…ˆæ´¾ç™¼çµ¦èˆ‡è©²ç¯€é»**é—œä¿‚æœ€è¿‘**çš„ç©å®¶ï¼š

```
ä¾‹ï¼šéœ€è¦å¡«å¯«ã€Œç©å®¶ A çš„ç¥–çˆ¶ã€çš„å§“å

æ´¾ç™¼å„ªå…ˆç´šï¼š
  1ï¸âƒ£ ç©å®¶ A æœ¬èº«ï¼ˆè¦ªè¿‘åº¦æœ€é«˜ï¼‰
  2ï¸âƒ£ ç©å®¶ A çš„çˆ¶è¦ªï¼ˆå¦‚æœåœ¨éŠæˆ²ä¸­ï¼‰
  3ï¸âƒ£ ç©å®¶ A çš„å…„å¼Ÿå§Šå¦¹ï¼ˆç©å®¶ï¼‰
  4ï¸âƒ£ ç©å®¶ A çš„å ‚å…„å¼Ÿï¼ˆç©å®¶ï¼‰
  5ï¸âƒ£ ä»»ä½•å…¶ä»–ç©å®¶ï¼ˆè¦ªè¿‘åº¦æœ€ä½ï¼‰
```

#### è¦å‰‡ 2ï¼šç¨ä½”æå• (Exclusive Quizzing)

**æ ¸å¿ƒæ©Ÿåˆ¶**ï¼šåŒä¸€å€‹ä»»å‹™åœ¨åŒä¸€æ™‚åˆ»**åªæ´¾ç™¼çµ¦ä¸€ä½ç©å®¶**

**è©³ç´°é‚è¼¯**ï¼š

1. **å–®ä¸€æ´¾ç™¼**
   - ç³»çµ±å°‡ä»»å‹™ T åˆ†æ´¾çµ¦ç©å®¶ Pï¼ˆæ ¹æ“šä¸Šè¿°å„ªå…ˆç´šç®—æ³•é¸å‡ºï¼‰
   - åªæœ‰ç©å®¶ P åœ¨å…¶è¢å¹•ä¸Šçœ‹åˆ°ä»»å‹™ T
   - è©²ä»»å‹™å¾å…¶ä»–ç©å®¶çš„æ½›åœ¨é¡Œç›®æ± ä¸­ç§»é™¤

2. **é–å®šæ©Ÿåˆ¶**
   - ç©å®¶ P é–‹å§‹è¼¸å…¥æ™‚ï¼Œç³»çµ±ç™¼é€ `task_lock` äº‹ä»¶
   - å…¶ä»–ç©å®¶æ”¶åˆ°é€šçŸ¥ï¼šã€Œ{ç©å®¶å} æ­£åœ¨å¡«å¯«è©²è³‡è¨Šã€
   - ä»»å‹™å¾å…¶ä»–ç©å®¶çš„æ½›åœ¨é¡Œç›®æ± ä¸­ç§»é™¤
   - å…¶ä»–ç©å®¶ç„¡æ³•æäº¤é—œæ–¼æ­¤ä»»å‹™çš„ç­”æ¡ˆ

3. **ä»»å‹™æµè½‰**
   - **å®Œæˆ**ï¼šç©å®¶ P æäº¤ç­”æ¡ˆ â†’ ä»»å‹™å®Œæˆï¼Œç´¯ç©åˆ†æ•¸
   - **è·³é**ï¼šç©å®¶ P é¸æ“‡ã€Œè·³éã€ â†’ ä»»å‹™å„ªå…ˆç´šé™ä½ï¼Œé‡æ–°åˆ†æ´¾çµ¦å…¶ä»–ç©å®¶
   - **è¶…æ™‚æœªå‹•ä½œ**ï¼šè¶…éæ™‚é–“é™åˆ¶ â†’ è‡ªå‹•ä½œç‚ºã€Œè·³éã€è™•ç†

4. **ç‹€æ…‹è½‰æ›åœ–**

```
æœªåˆ†æ´¾
  â†“
[åˆ†æ´¾çµ¦ç©å®¶A]
  â†“
å·²åˆ†æ´¾ â† [ç©å®¶Açœ‹åˆ°ä»»å‹™]
  â†“
  â”œâ”€â†’ [ç©å®¶Aé–‹å§‹è¼¸å…¥] â†’ é–å®šä¸­ â†˜
  â”‚                          â”œâ”€â†’ [æäº¤] â†’ å®Œæˆï¼ˆç§»å‡ºï¼‰
  â”‚                          â””â”€â†’ [è·³é] â†’ å„ªå…ˆç´šâ†“ï¼Œé‡æ–°åˆ†æ´¾
  â”‚
  â””â”€â†’ [è¶…æ™‚] â†’ å„ªå…ˆç´šâ†“ï¼Œé‡æ–°åˆ†æ´¾
```

#### è¦å‰‡ 3ï¼šè³‡è¨Šå»é‡ â€” è·³éå·²ç¢ºèªè³‡è¨Š (Information Deduplication)

**æ ¸å¿ƒæ©Ÿåˆ¶**ï¼šç³»çµ±åœ¨ç”Ÿæˆèˆ‡æ´¾ç™¼ä»»å‹™æ™‚ï¼Œ**å¿…é ˆæª¢æŸ¥è³‡è¨Šæ˜¯å¦å·²é€éå…ˆå‰éšæ®µæˆ–å›ç­”ç²å¾—**ï¼Œé¿å…å‘ç©å®¶é‡è¤‡è©¢å•å·²çŸ¥è³‡è¨Šã€‚

**å»é‡ç¯„åœ**ï¼š

| è³‡è¨Šä¾†æº                   | å¯æ¨æ–·çš„è³‡è¨Š                                           | è·³éçš„ä»»å‹™é¡å‹             |
| -------------------------- | ------------------------------------------------------ | -------------------------- |
| Phase 1 é‚Šé¡å‹ (EdgeType)  | `P_f` â†’ ç”·æ€§ï¼Œ`P_m` â†’ å¥³æ€§ï¼Œ`C_m` â†’ ç”·æ€§ï¼Œ`C_f` â†’ å¥³æ€§ | è©²ç¯€é»çš„ã€Œæ€§åˆ¥ç¢ºèªã€ä»»å‹™   |
| Phase 1 é—œä¿‚ç´€éŒ„ä¸­å·²æœ‰åç¨± | ç©å®¶å·²å®£å‘Šçš„ç¨±è¬‚å«åå­—è³‡è¨Š                             | è©²ç¯€é»çš„ã€Œç¯€é»å‘½åã€ä»»å‹™   |
| ç©å®¶ç¯€é»è‡ªå¸¶è³‡æ–™           | ç©å®¶è‡ªèº«çš„å§“åã€æ€§åˆ¥ã€ç”Ÿæ—¥                             | é‡å°ç©å®¶ç¯€é»çš„æ‰€æœ‰å±¬æ€§ä»»å‹™ |
| å…ˆå‰ Phase 2 å›ç­”          | å·²å¡«å¯«çš„å§“åã€æ€§åˆ¥ã€ç”Ÿæ—¥                               | ç›¸åŒç¯€é»ç›¸åŒå±¬æ€§çš„é‡è¤‡ä»»å‹™ |

**å¯¦ä½œé‚è¼¯**ï¼š

```
ç”Ÿæˆä»»å‹™å‰æª¢æŸ¥ï¼š
  1. è‹¥è™›æ“¬ç¯€é»çš„æ€§åˆ¥å¯å¾ EdgeType æ¨æ–· â†’ ä¸ç”Ÿæˆæ€§åˆ¥ä»»å‹™
  2. è‹¥è™›æ“¬ç¯€é»å·²æœ‰å§“å â†’ ä¸ç”Ÿæˆå‘½åä»»å‹™
  3. è‹¥è™›æ“¬ç¯€é»å·²æœ‰ç”Ÿæ—¥ â†’ ä¸ç”Ÿæˆç”Ÿæ—¥ä»»å‹™
  4. è‹¥ç¯€é»æ˜¯ç©å®¶æœ¬èº« â†’ ä¸ç”Ÿæˆä»»ä½•å±¬æ€§ä»»å‹™

æ´¾ç™¼ä»»å‹™å‰å†æ¬¡æª¢æŸ¥ï¼š
  1. å¾ä»»å‹™éšŠåˆ—å–å‡ºä»»å‹™æ™‚ï¼Œå†æ¬¡é©—è­‰è©²è³‡è¨Šæ˜¯å¦å·²åœ¨æ­¤æœŸé–“è¢«å…¶ä»–ç©å®¶å¡«å¯«
  2. è‹¥å·²å¡«å¯« â†’ éœé»˜è·³éè©²ä»»å‹™ï¼Œç›´æ¥å–ä¸‹ä¸€å€‹
```

#### è¦å‰‡ 4ï¼šç­”æ¡ˆå³æ™‚å›å¡«èˆ‡æ—è§€è€…æ—è­œæ›´æ–° (Answer Backfill & Spectator Sync)

**æ ¸å¿ƒæ©Ÿåˆ¶**ï¼šç©å®¶æ¯å›ç­”ä¸€å€‹å•é¡Œï¼Œç³»çµ±**ç«‹å³å°‡ç­”æ¡ˆå¯«å…¥éª¨æ¶æ—è­œçš„è™›æ“¬ç¯€é»**ï¼Œä¸¦**å³æ™‚é€šçŸ¥æ—è§€è€…æ›´æ–°æ—è­œé¡¯ç¤º**ã€‚

**âš ï¸ ID ä¸€è‡´æ€§è¦æ±‚**ï¼š
è™›æ“¬ç¯€é»å¯¦ä¾‹åŒ– (`instantiateVirtualNodes`) èˆ‡éª¨æ¶ MVFT ç”Ÿæˆ (`buildSkeletonMvft`) **å¿…é ˆä½¿ç”¨ç›¸åŒçš„ç¯€é»è­˜åˆ¥åŸºç¤**ã€‚å…©è€…å‡ä»¥ `player.nodeId`ï¼ˆè€Œé `player.playerId`ï¼‰ä½œç‚ºè·¯å¾‘èµ·é»ï¼Œç¢ºä¿ï¼š

- è™›æ“¬ç¯€é» Map çš„ key æ ¼å¼ï¼š`{nodeId}_{edge1}_{edge2}...`
- MVFT é¡¯ç¤ºç¯€é»çš„ ID æ ¼å¼ï¼š`virt_{nodeId}_{edge1}_{edge2}...`
- å›å¡«æ™‚ç§»é™¤ `virt_` å‰ç¶´å³å¯åŒ¹é…è™›æ“¬ç¯€é» key

**å›å¡«æµç¨‹**ï¼š

```
ç©å®¶æäº¤ç­”æ¡ˆ
  â†“
1. æ›´æ–°è™›æ“¬ç¯€é» (VirtualNode) å°æ‡‰æ¬„ä½
  â†“
2. é‡æ–°å»ºæ§‹ MVFT é¡¯ç¤ºè³‡æ–™ (MvftData)
  â†“
3. å°‡è™›æ“¬ç¯€é»çš„æœ€æ–°è³‡æ–™ï¼ˆå§“åã€æ€§åˆ¥ç­‰ï¼‰è¦†è“‹è‡³ MVFT ç¯€é»æ¨™ç±¤
   ï¼ˆé€é virt_ å‰ç¶´æ˜ å°„åŒ¹é…è™›æ“¬ç¯€é» keyï¼‰
  â†“
4. æ›´æ–° room.mvftï¼Œ**å®Œæ•´æ¨é€**æ–°çš„ MvftData çµ¦æ‰€æœ‰æ—è§€è€…
  â†“
5. æ—è§€è€…å‰ç«¯æ¥æ”¶å®Œæ•´ MvftDataï¼Œé‡æ–°ç¹ªè£½æ•´æ£µæ—è­œ
```

**å›å¡«å°ç…§è¡¨**ï¼š

| ä»»å‹™é¡å‹         | å›å¡«ç›®æ¨™æ¬„ä½                        | é¡å¤–å‹•ä½œ                                                  |
| ---------------- | ----------------------------------- | --------------------------------------------------------- |
| ç¯€é»å‘½å         | `vnode.name`                        | æ›´æ–°æ‰€æœ‰å¼•ç”¨æ­¤ç¯€é»çš„å¾ŒçºŒä»»å‹™æ¨™ç±¤                          |
| å±¬æ€§å¡«å……ï¼ˆæ€§åˆ¥ï¼‰ | `vnode.gender`                      | æ›´æ–° EFU å‘ä¸Šç‹€æ…‹                                         |
| å±¬æ€§å¡«å……ï¼ˆç”Ÿæ—¥ï¼‰ | `vnode.birthday`                    | â€”                                                         |
| å‘ä¸Šè¿½æº¯         | `vnode.fatherId` / `vnode.motherId` | å¯èƒ½å‰µå»ºæ–°è™›æ“¬ç¯€é»ï¼Œæ›´æ–° EFU                              |
| ç¯€é»åŒ¯èš         | åˆä½µå…©å€‹ç¯€é» ID                     | é‡å»ºå—å½±éŸ¿å­æ¨¹                                            |
| é…å¶è©¢å•ï¼ˆæœ‰ï¼‰   | å»ºç«‹é…å¶è™›æ“¬ç¯€é»ã€`vnode.spouseIds` | æ¨™è¨˜ `efuStatus.lateral = true`ï¼Œç”¢ç”Ÿé…å¶å‘½åä»»å‹™         |
| é…å¶è©¢å•ï¼ˆç„¡ï¼‰   | `vnode.efuStatus.lateral = true`    | ä¸å»ºç«‹æ–°ç¯€é»                                              |
| å­å¥³è©¢å•ï¼ˆæœ‰ï¼‰   | å»ºç«‹ N å€‹å­å¥³è™›æ“¬ç¯€é»               | æ¨™è¨˜ `efuStatus.downward = true`ï¼Œç”¢ç”Ÿå­å¥³å‘½å + æ€§åˆ¥ä»»å‹™ |
| å­å¥³è©¢å•ï¼ˆç„¡ï¼‰   | `vnode.efuStatus.downward = true`   | ä¸å»ºç«‹æ–°ç¯€é»                                              |

**æ—è§€è€…åŒæ­¥äº‹ä»¶**ï¼š

```json
{
  "type": "spectator:tree_updated",
  "mvft": { /* å®Œæ•´çš„ MvftData */ },
  "updatedNodeId": "xxx",
  "updateType": "name" | "gender" | "birthday" | "parent" | "merge"
}
```

#### è¦å‰‡ 5ï¼šå§“åå„ªå…ˆæå•ç­–ç•¥ (Name-First Question Strategy)

**æ ¸å¿ƒæ©Ÿåˆ¶**ï¼šç³»çµ±**å¿…é ˆå…ˆè©¢å•è™›æ“¬ç¯€é»çš„å§“å**ï¼Œå–å¾—å§“åå¾Œï¼Œå¾ŒçºŒæå•æ”¹ç”¨**çœŸå¯¦å§“åä½œç‚ºä¸»è©**ï¼Œè€ŒéæŒçºŒä½¿ç”¨ã€ŒXXXçš„èª°ã€çš„æè¿°æ–¹å¼ã€‚

**ç­–ç•¥è¦å‰‡**ï¼š

1. **å‘½åä»»å‹™çµ•å°å„ªå…ˆ**
   - å‘½åä»»å‹™ (node-naming) çš„å„ªå…ˆç´šå§‹çµ‚é«˜æ–¼åŒä¸€ç¯€é»çš„å…¶ä»–ä»»å‹™
   - è‹¥ç¯€é»å°šæœªå‘½åï¼Œä¸æ´¾ç™¼è©²ç¯€é»çš„å±¬æ€§å¡«å……ã€å‘ä¸Šè¿½æº¯ç­‰ä»»å‹™
   - å‘½åä»»å‹™çš„å„ªå…ˆç´šï¼šé—œéµç¯€é» = **L1**ï¼Œéé—œéµç¯€é» = **L4**

2. **å‘½åå¾Œæ›´æ–°å¾ŒçºŒä»»å‹™æ¨™ç±¤**
   - ç•¶ç¯€é»ç²å¾—å§“åå¾Œï¼Œæ‰€æœ‰å¼•ç”¨è©²ç¯€é»çš„æœªå®Œæˆä»»å‹™ï¼Œå…¶é¡¯ç¤ºæ¨™ç±¤å¾ã€ŒXXXçš„çˆ¸çˆ¸ã€æ›´æ–°ç‚ºã€Œç‹å¤§è¯ã€
   - ä¾‹ï¼šåŸå§‹ä»»å‹™ã€Œå°æ˜çš„çˆ¸çˆ¸çš„ç”Ÿæ—¥æ˜¯ï¼Ÿã€â†’ å‘½åå¾Œè®Šç‚ºã€Œç‹å¤§è¯çš„ç”Ÿæ—¥æ˜¯ï¼Ÿã€

3. **æå•ä¸»è©è¦å‰‡**

| ç¯€é»ç‹€æ…‹      | æå•ä¸»è©æ ¼å¼         | ç¯„ä¾‹                       |
| ------------- | -------------------- | -------------------------- |
| å°šæœªå‘½å      | `{ç©å®¶å}çš„{ç¨±è¬‚}`   | ã€Œå°æ˜çš„çˆ¸çˆ¸å«ä»€éº¼åå­—ï¼Ÿã€ |
| å·²å‘½å        | `{ç¯€é»å§“å}`         | ã€Œç‹å¤§è¯çš„ç”Ÿæ—¥æ˜¯ï¼Ÿã€       |
| å·²å‘½å + è¿½æº¯ | `{ç¯€é»å§“å}çš„{ç¨±è¬‚}` | ã€Œç‹å¤§è¯çš„çˆ¶è¦ªæ˜¯èª°ï¼Ÿã€     |

4. **å‹•æ…‹æ¨™ç±¤æ›´æ–°æµç¨‹**

```
ç©å®¶å¡«å¯«å§“å "ç‹å¤§è¯" çµ¦ç¯€é» V1
  â†“
ç³»çµ±æƒææ‰€æœ‰å¾…æ´¾ä»»å‹™ï¼š
  - æ‰¾åˆ° targetNodeId === V1 çš„ä»»å‹™
  - æ›´æ–° targetNodeName / targetNodeLabel ç‚º "ç‹å¤§è¯"
  - åŒæ™‚æƒæè·¯å¾‘ä¸­åŒ…å« V1 ä½œç‚ºä¸­é–“ç¯€é»çš„å…¶ä»–ä»»å‹™ï¼Œç°¡åŒ–å…¶æ¨™ç±¤
  â†“
å¾ŒçºŒæ´¾ç™¼çµ¦å…¶ä»–ç©å®¶æ™‚ï¼š
  - é¡¯ç¤ºã€Œç‹å¤§è¯çš„ç”Ÿæ—¥æ˜¯ï¼Ÿã€è€Œéã€Œå°æ˜çš„çˆ¸çˆ¸çš„ç”Ÿæ—¥æ˜¯ï¼Ÿã€
```

#### è¦å‰‡ 5.1ï¼šè·¯å¾‘æè¿°ç°¡åŒ– (Path Description Simplification)

**å•é¡Œ**ï¼šç•¶ç¯€é» ID ç‚º `UUID_P_f_P_f_C_m` æ™‚ï¼Œå®Œæ•´è·¯å¾‘æœƒå±•é–‹ç‚ºã€Œé™³æ˜±å®çš„çˆ¸çˆ¸çš„çˆ¸çˆ¸çš„å…’å­ã€ã€‚ä½†è‹¥ `UUID_P_f_P_f`ï¼ˆ= é™³æ˜±å®çš„ç¥–çˆ¶ï¼‰å·²è¢«å‘½åç‚ºã€Œç‹å¿—é ã€ï¼Œå‰‡æå•æ‡‰ç°¡åŒ–ç‚ºã€Œç‹å¿—é çš„å…’å­ã€ã€‚

**ç°¡åŒ–è¦å‰‡**ï¼š

1. **å¾æœ€æ·±çš„ä¸­é–“ç¯€é»é–‹å§‹å¾€å›æª¢æŸ¥**ï¼šè§£æç›®æ¨™ç¯€é»çš„è·¯å¾‘é‚Šåºåˆ—ï¼Œå¾æœ€é•·çš„å‰ç¶´å­è·¯å¾‘é–‹å§‹ï¼Œé€æ­¥ç¸®çŸ­ï¼Œæª¢æŸ¥å°æ‡‰çš„ä¸­é–“è™›æ“¬ç¯€é»æ˜¯å¦å·²æœ‰åå­—ã€‚
2. **æ‰¾åˆ°å·²å‘½åç¯€é»å³æˆªæ–·**ï¼šä¸€æ—¦æ‰¾åˆ°å·²å‘½åçš„ä¸­é–“ç¯€é»ï¼Œåªå±•é–‹å¾è©²ç¯€é»åˆ°ç›®æ¨™ç¯€é»çš„å‰©é¤˜è·¯å¾‘ã€‚
3. **å„ªå…ˆä½¿ç”¨ EDGE_PATH_TO_LABEL æ˜ å°„**ï¼šå‰©é¤˜è·¯å¾‘å…ˆå˜—è©¦æŸ¥æ‰¾å®Œæ•´è·¯å¾‘çš„ä¸­æ–‡ç¨±è¬‚ï¼ˆå¦‚ `C_m` â†’ `å…’å­`ï¼‰ï¼Œæ‰¾ä¸åˆ°æ™‚æ‰é€ç´šçµ„åˆã€‚

**ç¯„ä¾‹**ï¼š

| ç¯€é» ID                    | ä¸­é–“ç¯€é»ç‹€æ…‹                        | **ç°¡åŒ–å‰**                        | **ç°¡åŒ–å¾Œ**           |
| -------------------------- | ----------------------------------- | --------------------------------- | -------------------- |
| `UUID_P_f_P_f_C_m`         | `UUID_P_f_P_f` å·²å‘½åã€Œç‹å¿—é ã€     | é™³æ˜±å®çš„çˆ¸çˆ¸çš„çˆ¸çˆ¸çš„å…’å­          | ç‹å¿—é çš„å…’å­         |
| `UUID_P_f_P_f_C_m_C_any_1` | `UUID_P_f_P_f_C_m` å·²å‘½åã€Œç‹å¤§è¯ã€ | é™³æ˜±å®çš„çˆ¸çˆ¸çš„çˆ¸çˆ¸çš„å…’å­çš„å­å¥³    | ç‹å¤§è¯çš„å­å¥³         |
| `UUID_P_f_P_f_C_f`         | ç„¡ä¸­é–“ç¯€é»å·²å‘½å                    | é™³æ˜±å®çš„ç¥–çˆ¶çš„å¥³å…’ â†’ é™³æ˜±å®çš„å§‘å§‘ | é™³æ˜±å®çš„å§‘å§‘ï¼ˆä¸è®Šï¼‰ |

#### è¦å‰‡ 6ï¼šè·³éæµè½‰èˆ‡å„ªå…ˆç´šè¡°æ¸›

ç©å®¶è·³éæˆ–è¶…æ™‚å¾Œï¼Œç³»çµ±å°‡ä»»å‹™**é‡æ–°é€²å…¥ä»»å‹™æ± **ï¼š

```
åˆå§‹æ´¾ç™¼ï¼šç©å®¶A â†’ [è·³é] â†’ ç©å®¶B
ç©å®¶Bå®Œæˆæˆ–è·³éï¼šç©å®¶B â†’ [è·³é] â†’ ç©å®¶C
ä¾æ¬¡æµè½‰ï¼Œç›´åˆ°å®Œæˆæˆ–æ™‚é–“è€—ç›¡
```

**å„ªå…ˆç´šè¡°æ¸›**ï¼š

- æ¯è¢«è·³éä¸€æ¬¡ï¼Œå„ªå…ˆç´šåˆ†æ•¸ Ã— 0.8ï¼ˆè¡°æ¸› 20%ï¼‰
- è¢«è·³é 5 æ¬¡æˆ–ä»¥ä¸Šçš„ä»»å‹™ï¼Œè‡ªå‹•é™è‡³æœ€ä½å„ªå…ˆç´š

---

## ğŸ”— ç¨±è¬‚èˆ‡è·¯å¾‘å°æ‡‰è¡¨ (Kinship Mapping)

### KinshipMap ç¯€é»èˆ‡é‚Šå®šç¾©

æœ¬è¡¨åŸºæ–¼ [kinshipMap.json](/public/kinshipMap.json)ï¼Œå±•ç¤ºæ¯å€‹ç¯€é»çš„ç¨±è¬‚ Keyã€æ€§åˆ¥ã€æ¨™é¡Œèˆ‡é‚Šå®šç¾©ï¼ˆå«äº”ç­‰è¦ªï¼‰ã€‚ç”¨æ–¼æ ¡å°é‚Šé¡å‹èˆ‡ç›®æ¨™ç¯€é»æ˜¯å¦æ­£ç¢ºã€‚

| ç¯€é» Key                       | æ€§åˆ¥ | ç¨±è¬‚ (Male / Female) | Edges é¡å‹ | Target ç¯€é»            | èªªæ˜                         |
| ------------------------------ | ---- | -------------------- | ---------- | ---------------------- | ---------------------------- |
| **self**                       | any  | (è‡ªå·±)               | P_f        | father                 | å‘ä¸Š â†’ çˆ¶è¦ª                  |
|                                |      |                      | P_m        | mother                 | å‘ä¸Š â†’ æ¯è¦ª                  |
|                                |      |                      | S          | spouse                 | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_m        | son                    | å‘ä¸‹ â†’ å…’å­                  |
|                                |      |                      | C_f        | daughter               | å‘ä¸‹ â†’ å¥³å…’                  |
| **father**                     | M    | (çˆ¸çˆ¸)               | P_f        | paternal_grandfather   | å‘ä¸Š â†’ ç¥–çˆ¶(çˆ¶å´)            |
|                                |      |                      | P_m        | paternal_grandmother   | å‘ä¸Š â†’ ç¥–æ¯(çˆ¶å´)            |
|                                |      |                      | S          | mother                 | æ°´å¹³ â†’ é…å¶(æ¯è¦ª)            |
|                                |      |                      | C_any      | self                   | å‘ä¸‹ â†’ å­å¥³(è‡ªå·±)            |
|                                |      |                      | C_any      | sibling                | å‘ä¸‹ â†’ å­å¥³(å…„å¼Ÿ/å§Šå¦¹)       |
| **mother**                     | F    | (åª½åª½)               | P_f        | maternal_grandfather   | å‘ä¸Š â†’ ç¥–çˆ¶(æ¯å´)            |
|                                |      |                      | P_m        | maternal_grandmother   | å‘ä¸Š â†’ ç¥–æ¯(æ¯å´)            |
|                                |      |                      | S          | father                 | æ°´å¹³ â†’ é…å¶(çˆ¶è¦ª)            |
|                                |      |                      | C_any      | self                   | å‘ä¸‹ â†’ å­å¥³(è‡ªå·±)            |
|                                |      |                      | C_any      | sibling                | å‘ä¸‹ â†’ å­å¥³(å…„å¼Ÿ/å§Šå¦¹)       |
| **son**                        | M    | (å…’å­)               | P_f        | (father - è‡ªå·±çš„çˆ¶è¦ª)  | å‘ä¸Š â†’ çˆ¶è¦ª                  |
|                                |      |                      | P_m        | (mother - è‡ªå·±çš„æ¯è¦ª)  | å‘ä¸Š â†’ æ¯è¦ª                  |
|                                |      |                      | S          | (é…å¶ - åª³å©¦)          | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_any      | (å­«å­/å­«å¥³)            | å‘ä¸‹ â†’ å­å¥³                  |
| **daughter**                   | F    | (å¥³å…’)               | P_f        | (father - è‡ªå·±çš„çˆ¶è¦ª)  | å‘ä¸Š â†’ çˆ¶è¦ª                  |
|                                |      |                      | P_m        | (mother - è‡ªå·±çš„æ¯è¦ª)  | å‘ä¸Š â†’ æ¯è¦ª                  |
|                                |      |                      | S          | (é…å¶ - å¥³å©¿)          | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_any      | (å­«å­/å­«å¥³)            | å‘ä¸‹ â†’ å­å¥³                  |
| **spouse**                     | M/F  | (é…å¶/ä¼´ä¾¶)          | P_f        | (spouse çš„çˆ¶è¦ª)        | å‘ä¸Š â†’ çˆ¶è¦ª                  |
|                                |      |                      | P_m        | (spouse çš„æ¯è¦ª)        | å‘ä¸Š â†’ æ¯è¦ª                  |
|                                |      |                      | S          | self                   | æ°´å¹³ â†’ é…å¶(å›åˆ°è‡ªå·±)        |
|                                |      |                      | C_any      | (é…å¶çš„å­å¥³)           | å‘ä¸‹ â†’ é…å¶çš„å­å¥³            |
| **paternal_grandfather**       | M    | ç¥–çˆ¶(çˆ¶å´)           | P_f        | æ›¾ç¥–çˆ¶(çˆ¶å´)           | å‘ä¸Š â†’ æ›¾ç¥–çˆ¶                |
|                                |      |                      | P_m        | æ›¾ç¥–æ¯(çˆ¶å´)           | å‘ä¸Š â†’ æ›¾ç¥–æ¯                |
|                                |      |                      | S          | paternal_grandmother   | æ°´å¹³ â†’ é…å¶(ç¥–æ¯)            |
|                                |      |                      | C_any      | father                 | å‘ä¸‹ â†’ å­å¥³(çˆ¶è¦ª)            |
|                                |      |                      | C_m        | paternal_uncle         | å‘ä¸‹ â†’ å…’å­(å”ä¼¯)            |
|                                |      |                      | C_f        | paternal_aunt          | å‘ä¸‹ â†’ å…’å¥³(å§‘å§‘)            |
| **paternal_grandmother**       | F    | ç¥–æ¯(çˆ¶å´)           | P_f        | æ›¾ç¥–çˆ¶(çˆ¶å´)           | å‘ä¸Š â†’ æ›¾ç¥–çˆ¶                |
|                                |      |                      | P_m        | æ›¾ç¥–æ¯(çˆ¶å´)           | å‘ä¸Š â†’ æ›¾ç¥–æ¯                |
|                                |      |                      | S          | paternal_grandfather   | æ°´å¹³ â†’ é…å¶(ç¥–çˆ¶)            |
|                                |      |                      | C_any      | father                 | å‘ä¸‹ â†’ å­å¥³(çˆ¶è¦ª)            |
|                                |      |                      | C_m        | paternal_uncle         | å‘ä¸‹ â†’ å…’å­(å”ä¼¯)            |
|                                |      |                      | C_f        | paternal_aunt          | å‘ä¸‹ â†’ å…’å¥³(å§‘å§‘)            |
| **maternal_grandfather**       | M    | ç¥–çˆ¶(æ¯å´)/å¤–å…¬      | P_f        | æ›¾ç¥–çˆ¶(æ¯å´)           | å‘ä¸Š â†’ æ›¾ç¥–çˆ¶                |
|                                |      |                      | P_m        | æ›¾ç¥–æ¯(æ¯å´)           | å‘ä¸Š â†’ æ›¾ç¥–æ¯                |
|                                |      |                      | S          | maternal_grandmother   | æ°´å¹³ â†’ é…å¶(ç¥–æ¯/å¤–å©†)       |
|                                |      |                      | C_any      | mother                 | å‘ä¸‹ â†’ å­å¥³(æ¯è¦ª)            |
|                                |      |                      | C_any      | maternal_uncle_aunt    | å‘ä¸‹ â†’ å­å¥³(èˆ…èˆ…/é˜¿å§¨)       |
| **maternal_grandmother**       | F    | ç¥–æ¯(æ¯å´)/å¤–å©†      | P_f        | æ›¾ç¥–çˆ¶(æ¯å´)           | å‘ä¸Š â†’ æ›¾ç¥–çˆ¶                |
|                                |      |                      | P_m        | æ›¾ç¥–æ¯(æ¯å´)           | å‘ä¸Š â†’ æ›¾ç¥–æ¯                |
|                                |      |                      | S          | maternal_grandfather   | æ°´å¹³ â†’ é…å¶(ç¥–çˆ¶/å¤–å…¬)       |
|                                |      |                      | C_any      | mother                 | å‘ä¸‹ â†’ å­å¥³(æ¯è¦ª)            |
|                                |      |                      | C_any      | maternal_uncle_aunt    | å‘ä¸‹ â†’ å­å¥³(èˆ…èˆ…/é˜¿å§¨)       |
| **paternal_uncle**             | M    | å”ä¼¯                 | P_f        | paternal_grandfather   | å‘ä¸Š â†’ ç¥–çˆ¶(çˆ¶å´)            |
|                                |      |                      | P_m        | paternal_grandmother   | å‘ä¸Š â†’ ç¥–æ¯(çˆ¶å´)            |
|                                |      |                      | S          | (é…å¶ - å¬ƒå¬ƒ/ä¼¯æ¯ç­‰)   | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_any      | paternal_cousin        | å‘ä¸‹ â†’ å­å¥³(å ‚å…„å¼Ÿ/å§Šå¦¹)     |
| **paternal_aunt**              | F    | å§‘å§‘                 | P_f        | paternal_grandfather   | å‘ä¸Š â†’ ç¥–çˆ¶(çˆ¶å´)            |
|                                |      |                      | P_m        | paternal_grandmother   | å‘ä¸Š â†’ ç¥–æ¯(çˆ¶å´)            |
|                                |      |                      | S          | (é…å¶ - å§‘å±…/å§‘å¤«ç­‰)   | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_any      | maternal_cousin        | å‘ä¸‹ â†’ å­å¥³(**è¡¨å…„å¼Ÿ/å§Šå¦¹**) |
| **sibling**                    | any  | å…„å¼Ÿ / å§Šå¦¹          | P_f        | father                 | å‘ä¸Š â†’ çˆ¶è¦ª(å…±åŒçˆ¶è¦ª)        |
|                                |      |                      | P_m        | mother                 | å‘ä¸Š â†’ æ¯è¦ª(å…±åŒæ¯è¦ª)        |
|                                |      |                      | S          | sibling_spouse         | æ°´å¹³ â†’ é…å¶(å…„å«‚/å¼Ÿå¦¹ç­‰)     |
|                                |      |                      | C_any      | nephew_niece           | å‘ä¸‹ â†’ å­å¥³(å§ªå­/å§ªå¥³)       |
| **paternal_cousin**            | any  | å ‚å…„å¼Ÿ / å ‚å§Šå¦¹      | P_f        | paternal_uncle         | å‘ä¸Š â†’ çˆ¶è¦ª(å”ä¼¯å¿…ç‚ºç”·æ€§)    |
|                                |      |                      | S          | (é…å¶ - å ‚å«‚/å ‚å¦¹å¤«ç­‰) | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_any      | (å ‚ä¾„/å ‚å§ª)            | å‘ä¸‹ â†’ å­å¥³                  |
| **maternal_uncle_aunt**        | any  | èˆ…èˆ… / é˜¿å§¨          | P_f        | maternal_grandfather   | å‘ä¸Š â†’ ç¥–çˆ¶(æ¯å´)            |
|                                |      |                      | P_m        | maternal_grandmother   | å‘ä¸Š â†’ ç¥–æ¯(æ¯å´)            |
|                                |      |                      | S          | (é…å¶ - èˆ…åª½/é˜¿å§¨å¤«ç­‰) | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_any      | maternal_cousin        | å‘ä¸‹ â†’ å­å¥³(è¡¨å…„å¼Ÿ/å§Šå¦¹)     |
| **maternal_cousin**            | any  | è¡¨å…„å¼Ÿ / è¡¨å§Šå¦¹      | P_any      | maternal_uncle_aunt    | å‘ä¸Š â†’ çˆ¶è¦ª(èˆ…èˆ…/é˜¿å§¨)       |
|                                |      |                      | S          | (é…å¶ - è¡¨å«‚/è¡¨å¦¹å¤«ç­‰) | æ°´å¹³ â†’ é…å¶                  |
|                                |      |                      | C_any      | (è¡¨ä¾„/è¡¨å§ª)            | å‘ä¸‹ â†’ å­å¥³                  |
| **paternal_grandparents_unit** | any  | ç¥–çˆ¶æ¯(çˆ¶å´)è¯åˆå–®ä½ | P_any      | æ›¾ç¥–çˆ¶æ¯(çˆ¶å´)         | å‘ä¸Š â†’ æ›¾ç¥–çˆ¶æ¯              |
|                                |      |                      | C_any      | father                 | å‘ä¸‹ â†’ å­å¥³(çˆ¶è¦ª)            |
|                                |      |                      | C_m        | paternal_uncle         | å‘ä¸‹ â†’ å…’å­(å”ä¼¯)            |
|                                |      |                      | C_f        | paternal_aunt          | å‘ä¸‹ â†’ å…’å¥³(å§‘å§‘)            |
| **maternal_grandparents_unit** | any  | ç¥–çˆ¶æ¯(æ¯å´)è¯åˆå–®ä½ | P_any      | æ›¾ç¥–çˆ¶æ¯(æ¯å´)         | å‘ä¸Š â†’ æ›¾ç¥–çˆ¶æ¯              |
|                                |      |                      | C_any      | mother                 | å‘ä¸‹ â†’ å­å¥³(æ¯è¦ª)            |
|                                |      |                      | C_any      | maternal_uncle_aunt    | å‘ä¸‹ â†’ å­å¥³(èˆ…èˆ…/é˜¿å§¨)       |

### è·¯å¾‘é‚è¼¯è¡¨ï¼ˆæŒ‰è¦ªç­‰åˆ†é¡è‡³äº”ç­‰è¦ªï¼‰

æ­¤è¡¨å±•ç¤ºå¾ã€Œè‡ªå·±ã€(self) å‡ºç™¼ï¼Œé€éé‚Šåºåˆ—åˆ°é”å„å€‹è¦ªå±¬çš„é‚è¼¯è·¯å¾‘ã€‚

| è¦ªç­‰       | ç¯€é»Key              | ç¨±è¬‚                  | é‚Šåºåˆ—                          | è·¯å¾‘èªªæ˜                                                                              |
| ---------- | -------------------- | --------------------- | ------------------------------- | ------------------------------------------------------------------------------------- |
| **ä¸€ç­‰è¦ª** |
|            | father               | çˆ¶è¦ª                  | [P_f]                           | self â†’ P_f â†’ father                                                                   |
|            | mother               | æ¯è¦ª                  | [P_m]                           | self â†’ P_m â†’ mother                                                                   |
|            | son                  | å…’å­                  | [C_m]                           | self â†’ C_m â†’ son                                                                      |
|            | daughter             | å¥³å…’                  | [C_f]                           | self â†’ C_f â†’ daughter                                                                 |
|            | spouse               | é…å¶                  | [S]                             | self â†’ S â†’ spouse                                                                     |
| **äºŒç­‰è¦ª** |
|            | paternal_grandfather | ç¥–çˆ¶(çˆ¶å´)            | [P_f, P_f]                      | self â†’ P_f â†’ father â†’ P_f â†’ paternal_grandfather                                      |
|            | paternal_grandmother | ç¥–æ¯(çˆ¶å´)            | [P_f, P_m]                      | self â†’ P_f â†’ father â†’ P_m â†’ paternal_grandmother                                      |
|            | maternal_grandfather | ç¥–çˆ¶(æ¯å´)            | [P_m, P_f]                      | self â†’ P_m â†’ mother â†’ P_f â†’ maternal_grandfather                                      |
|            | maternal_grandmother | ç¥–æ¯(æ¯å´)            | [P_m, P_m]                      | self â†’ P_m â†’ mother â†’ P_m â†’ maternal_grandmother                                      |
|            | å…„å¼Ÿ/å§Šå¦¹            | å…„å¼Ÿ/å§Šå¦¹             | [P_f, C_any (other)]            | self â†’ P_f â†’ father â†’ C_any â†’ å…„å¼Ÿ/å§Šå¦¹ (çˆ¶è¦ªçš„å…¶ä»–å­å¥³)                              |
| **ä¸‰ç­‰è¦ª** |
|            | paternal_uncle       | å”ä¼¯                  | [P_f, P_f, C_m]                 | self â†’ P_f â†’ father â†’ P_f â†’ paternal_grandfather â†’ C_m â†’ paternal_uncle               |
|            | paternal_aunt        | å§‘å§‘                  | [P_f, P_f, C_f]                 | self â†’ P_f â†’ father â†’ P_f â†’ paternal_grandfather â†’ C_f â†’ paternal_aunt                |
|            | paternal_cousin      | å ‚å…„å¼Ÿ/å§Šå¦¹           | [P_f, P_f, C_m, C_any]          | ... â†’ paternal_grandfather â†’ C_m â†’ paternal_uncle â†’ C_any â†’ paternal_cousin           |
|            | (å§‘å§‘çš„å­å¥³)         | è¡¨å…„å¼Ÿ/å§Šå¦¹           | [P_f, P_f, C_f, C_any]          | ... â†’ paternal_grandfather â†’ C_f â†’ paternal_aunt â†’ C_any â†’ maternal_cousin            |
|            | maternal_uncle_aunt  | èˆ…èˆ…/é˜¿å§¨             | [P_m, P_f, C_any]               | self â†’ P_m â†’ mother â†’ P_f â†’ maternal_grandfather â†’ C_any â†’ maternal_uncle_aunt        |
|            | maternal_cousin      | è¡¨å…„å¼Ÿ/å§Šå¦¹           | [P_m, P_f, C_any, C_any]        | ... â†’ maternal_grandfather â†’ C_any â†’ maternal_uncle_aunt â†’ C_any â†’ maternal_cousin    |
|            | ä¾„å­/å§ªå¥³            | ä¾„å­/å§ªå¥³             | [C_m, C_any] / [C_f, C_any]     | self â†’ C_m â†’ son â†’ C_any â†’ å­«å­/å­«å¥³ (æˆ– self â†’ C_f â†’ daughter â†’ C_any â†’ å­«å­/å­«å¥³)   |
|            | åª³å©¦/å¥³å©¿            | åª³å©¦/å¥³å©¿             | [C_m, S] / [C_f, S]             | self â†’ C_m â†’ son â†’ S â†’ åª³å©¦ (æˆ– self â†’ C_f â†’ daughter â†’ S â†’ å¥³å©¿)                     |
| **å››ç­‰è¦ª** |
|            | æ›¾ç¥–çˆ¶(çˆ¶å´)         | æ›¾ç¥–çˆ¶(çˆ¶å´)          | [P_f, P_f, P_f]                 | self â†’ P_f â†’ father â†’ P_f â†’ paternal_grandfather â†’ P_f â†’ æ›¾ç¥–çˆ¶                       |
|            | æ›¾ç¥–æ¯(çˆ¶å´)         | æ›¾ç¥–æ¯(çˆ¶å´)          | [P_f, P_f, P_m]                 | self â†’ P_f â†’ father â†’ P_f â†’ paternal_grandfather â†’ P_m â†’ æ›¾ç¥–æ¯                       |
|            | æ›¾ç¥–çˆ¶(æ¯å´)         | æ›¾ç¥–çˆ¶(æ¯å´)          | [P_m, P_f, P_f]                 | self â†’ P_m â†’ mother â†’ P_f â†’ maternal_grandfather â†’ P_f â†’ æ›¾ç¥–çˆ¶                       |
|            | æ›¾ç¥–æ¯(æ¯å´)         | æ›¾ç¥–æ¯(æ¯å´)          | [P_m, P_f, P_m]                 | self â†’ P_m â†’ mother â†’ P_f â†’ maternal_grandfather â†’ P_m â†’ æ›¾ç¥–æ¯                       |
|            | æ›¾å­«/æ›¾å­«å¥³          | æ›¾å­«/æ›¾å­«å¥³           | [C_m, C_any, C_any]             | self â†’ C_m â†’ son â†’ C_any â†’ å­«å­/å­«å¥³ â†’ C_any â†’ æ›¾å­«                                   |
|            | å ‚ä¼¯/å ‚å”/å ‚å§‘       | å ‚ä¼¯/å ‚å”/å ‚å§‘        | [P_f, P_f, P_any, C_any]        | ... â†’ paternal_grandfather â†’ P_f â†’ æ›¾ç¥–çˆ¶ â†’ C_any â†’ å ‚ä¼¯çˆ¶/å”çˆ¶/å§‘å§‘ (ç¥–çˆ¶çš„å…„å¼Ÿå§Šå¦¹) |
|            | å ‚å…„å ‚å¼Ÿçš„å…’å¥³       | è¡¨å§ª/è¡¨ç”¥å¥³           | [P_f, P_f, C_any, C_any, C_any] | ... â†’ paternal_cousin â†’ C_any â†’ å ‚ä¾„/å ‚å§ª                                             |
|            | è¡¨ä¼¯/è¡¨å”/è¡¨å§‘       | è¡¨ä¼¯/è¡¨å”/è¡¨å§‘        | [P_m, P_f, P_any, C_any]        | ... â†’ maternal_grandfather â†’ P_f â†’ æ›¾ç¥–çˆ¶ â†’ C_any â†’ è¡¨ä¼¯çˆ¶/å”çˆ¶/å§‘å§‘ (å¤–å…¬çš„å…„å¼Ÿå§Šå¦¹) |
|            | è¡¨å…„è¡¨å¼Ÿçš„å…’å¥³       | è¡¨å§ª/è¡¨ç”¥å¥³           | [P_m, P_f, C_any, C_any, C_any] | ... â†’ maternal_cousin â†’ C_any â†’ è¡¨ä¾„/è¡¨å§ª                                             |
| **äº”ç­‰è¦ª** |
|            | æ—æ›¾ç¥–               | æ—æ›¾ç¥–                | [P_f, P_f, P_f, P_f]            | ç¥–çˆ¶çš„ç¥–çˆ¶ (å‘ä¸Šå››ä»£)                                                                 |
|            | æ—æ›¾å­«               | æ—æ›¾å­«                | [C_m, C_any, C_any, C_any]      | å‘ä¸‹å››ä»£å­å­«                                                                          |
|            | é æˆ¿è¡¨è¦ª             | é æˆ¿è¡¨è¦ª              | è¤‡é›œåºåˆ—(5+ æ­¥)                 | æ¶‰åŠå¤šå±¤æ—ç³»çš„é è¦ª (å»ºè­°ç³»çµ±åœ¨æ­¤ç´šé™åˆ¶è™•ç†)                                           |
|            | é…å¶çš„è¦ªå±¬           | å©†å©†/å…¬å…¬/å²³æ¯/å²³çˆ¶ç­‰ | [S, P_f/P_m]                    | self â†’ S â†’ spouse â†’ P_f â†’ spouse çš„çˆ¶è¦ª (å©†å©†/å²³çˆ¶)                                   |

---

### æ ¸å¿ƒæ¦‚å¿µï¼šã€Œç²å–æˆ–å»ºç«‹ã€é‚è¼¯

æ­¤é‚è¼¯æ˜¯ç³»çµ±çš„ã€Œç”Ÿé•·å¼•æ“ã€ï¼Œå°‡æŠ½è±¡ç¨±è¬è½‰åŒ–ç‚ºåœ–å½¢çµæ§‹ï¼š

```
ç•¶ç©å®¶èªªã€ŒA æ˜¯æˆ‘çš„å ‚å…„ã€æ™‚ï¼š
  ç³»çµ±è§£æè·¯å¾‘ï¼šA â†’ P(ç”·) â†’ P(ç”·) â†’ C(ç”·) â†’ æˆ‘
  æ²¿è·¯å¾‘èµ°è¨ªï¼š
    1. æª¢æŸ¥æ˜¯å¦æœ‰ã€Œæˆ‘çš„çˆ¶è¦ªã€ç¯€é» â†’ è‹¥ç„¡å‰‡å»ºç«‹ï¼ˆè™›æ“¬ï¼‰
    2. æª¢æŸ¥æ˜¯å¦æœ‰ã€Œæˆ‘çš„ç¥–çˆ¶ã€ç¯€é» â†’ è‹¥ç„¡å‰‡å»ºç«‹ï¼ˆè™›æ“¬ï¼‰
    3. æª¢æŸ¥æ˜¯å¦æœ‰ã€Œç¥–çˆ¶çš„å…’å­ï¼ˆæˆ‘çš„ä¼¯å”ï¼‰ã€ç¯€é» â†’ è‹¥ç„¡å‰‡å»ºç«‹ï¼ˆè™›æ“¬ï¼‰
    4. ç¢ºèªæ­¤ä¼¯å”æ˜¯å¦æœ‰å…’å­ â†’ è‹¥ç„¡å‰‡å»ºç«‹
  æœ€çµ‚ï¼šA èˆ‡ã€Œä¼¯å”çš„å…’å­ã€åŒ¹é… â†’ é—œä¿‚ç¢ºèª
```

### åŸå­å‹•ä½œå®šç¾©

ç³»çµ±çš„ä¸‰å€‹åŸºæœ¬æ–¹å‘å‹•ä½œï¼ˆAtomic Operationsï¼‰ï¼š

| å‹•ä½œ | ç¬¦è™Ÿ | å«ç¾©           | ä¾‹å­                  |
| ---- | ---- | -------------- | --------------------- |
| å‘ä¸Š | P    | Parentï¼ˆå¾€ä¸Šï¼‰ | P = çˆ¶è¦ªï¼ŒPÂ² = ç¥–çˆ¶   |
| å‘ä¸‹ | C    | Childï¼ˆå¾€ä¸‹ï¼‰  | C = å…’å­ï¼ŒCÂ² = å­«å­   |
| æ°´å¹³ | S    | Spouseï¼ˆé…å¶ï¼‰ | S = é…å¶ï¼ˆä¸ˆå¤«/å¦»å­ï¼‰ |

### è·¯å¾‘è§£æç¯„ä¾‹è¡¨

| ç¨±è¬   | æ–¹å‘ | è·¯å¾‘                    | èªªæ˜                     |
| ------ | ---- | ----------------------- | ------------------------ |
| çˆ¸çˆ¸   | çˆ¶ç³» | P                       | ç›´æ¥å‘ä¸Šä¸€ä»£             |
| çˆºçˆº   | çˆ¶ç³» | PÂ²                      | å‘ä¸Šå…©ä»£ï¼Œçˆ¶è¦ªçš„çˆ¶è¦ª     |
| æ›¾ç¥–çˆ¶ | çˆ¶ç³» | PÂ³                      | å‘ä¸Šä¸‰ä»£                 |
| ä¼¯çˆ¶   | çˆ¶ç³» | P(å…„) = P.Sibling(ç”·)   | çˆ¶è¦ªçš„ç”·æ€§å…„é•·           |
| å”å”   | çˆ¶ç³» | P(å¼Ÿ) = P.Sibling(ç”·,Y) | çˆ¶è¦ªçš„ç”·æ€§å¹¼å¼Ÿ           |
| å ‚å…„   | çˆ¶ç³» | P.P.C(ç”·,O) = PÂ².C(ç”·)  | ç¥–çˆ¶çš„å­å¥³çš„ç”·æ€§é•·å­     |
| è¡¨å…„   | æ¯ç³» | M.P.C(ç”·,O) = M.PÂ².C    | æ¯è¦ªä¹‹çˆ¶çš„å­å¥³çš„ç”·æ€§é•·å­ |
| å…’å­   | å­å¥³ | C                       | ç›´æ¥å‘ä¸‹ä¸€ä»£             |
| å­«å­   | å­å¥³ | CÂ²                      | å‘ä¸‹å…©ä»£                 |
| é…å¶   | é…å¶ | S                       | æ°´å¹³æ–¹å‘ï¼Œé…å¶æœ¬äºº       |
| åª³å©¦   | é…å¶ | C.S                     | å…’å­çš„é…å¶               |
| å¥³å©¿   | é…å¶ | C(å¥³).S                 | å¥³å…’çš„é…å¶               |

**è¨»**ï¼šè·¯å¾‘ç¬¦è™Ÿçš„é€šç”¨è¦å‰‡

- `P` = çˆ¶è¦ªæˆ–æ¯è¦ªï¼ˆç”±æ–¹å‘ç¢ºå®šï¼‰
- `M` = æ¯è¦ªï¼ˆç‰¹åˆ¥æ¨™è¨˜æ™‚ï¼‰
- `C(gender, order)` = å­å¥³ï¼Œå¯æŒ‡å®šæ€§åˆ¥èˆ‡å‡ºç”Ÿé †åº
- `.` = è·¯å¾‘é€£æ¥ç¬¦
- `Sibling(gender)` = å…„å¼Ÿå§Šå¦¹ï¼Œå¯éæ¿¾æ€§åˆ¥

---

## ğŸ“Š æå•å•é¡Œæ¨¡æ¿è¡¨

æ­¤è¡¨ç‚ºç³»çµ±è‡ªå‹•ç”Ÿæˆè‡ªç„¶èªè¨€æå•çš„ç¯„æœ¬ï¼š

| ä»»å‹™é¡å‹ | è§¸ç™¼æ™‚æ©Ÿ                   | æå•æ¨¡æ¿                                                     | ä¾‹å­                                       |
| -------- | -------------------------- | ------------------------------------------------------------ | ------------------------------------------ |
| ç¯€é»å‘½å | è™›æ“¬ç¯€é»å§“åç‚ºç©º           | ã€Œä½ çš„{node_label}å«ä»€éº¼åå­—ï¼Ÿã€                             | ã€Œä½ çš„çˆ¸çˆ¸å«ä»€éº¼åå­—ï¼Ÿã€                   |
|          | å·²æœ‰ç¨±è¬ï¼Œéœ€è¦è©¢å•å…¶ä»–ç©å®¶ | ã€Œ{other_player}ï¼Œä½ çš„{node_label}å‘¢ï¼Ÿã€                     | ã€Œç‹å°æ˜ï¼Œä½ çš„çˆºçˆºå«ä»€éº¼åå­—ï¼Ÿã€           |
| å±¬æ€§å¡«å…… | å·²æœ‰å§“åï¼Œç”Ÿæ—¥ç‚ºç©º         | ã€Œæœ‰äººè¨˜å¾—{node_name}çš„ç”Ÿæ—¥å—ï¼Ÿã€                            | ã€Œæœ‰äººè¨˜å¾—ç‹å¤§æ˜çš„ç”Ÿæ—¥å—ï¼Ÿã€               |
|          | å·²æœ‰å§“åï¼Œå¹´é½¡ç‚ºç©º         | ã€Œ{node_name}å¤§ç´„å¹¾æ­²ï¼Ÿã€                                    | ã€Œç‹å¤§æ˜å¤§ç´„å¹¾æ­²ï¼Ÿã€                       |
|          | éœ€è¦ç¢ºèªæ€§åˆ¥               | ã€Œ{node_name}æ˜¯ç”·æ€§é‚„æ˜¯å¥³æ€§ï¼Ÿã€                              | ã€Œç‹å¤§æ˜æ˜¯ç”·æ€§é‚„æ˜¯å¥³æ€§ï¼Ÿã€                 |
| å‘ä¸Šè¿½æº¯ | éœ€è¦å»ºç«‹æ›´é«˜éšç¯€é»         | ã€Œè«‹å•{node_name}çš„çˆ¶è¦ªæ˜¯èª°ï¼Ÿã€                              | ã€Œè«‹å•ç‹å¤§æ˜çš„çˆ¶è¦ªæ˜¯èª°ï¼Ÿã€                 |
|          | éœ€è¦è¿½æº¯æ¯è¦ª               | ã€Œ{node_name}çš„æ¯è¦ªå«ä»€éº¼åå­—ï¼Ÿã€                            | ã€Œç‹å¤§æ˜çš„æ¯è¦ªå«ä»€éº¼åå­—ï¼Ÿã€               |
|          | é€šç”¨è¿½æº¯æå•               | ã€Œæœ‰äººçŸ¥é“{node_name}çš„ä¸Šè¼©æ˜¯èª°å—ï¼Ÿã€                        | ã€Œæœ‰äººçŸ¥é“ç‹å¤§æ˜çš„ä¸Šè¼©æ˜¯èª°å—ï¼Ÿã€           |
| ç¯€é»åŒ¯èš | ç¢ºèªå…©å€‹ä¸åŒåå­—æ˜¯å¦åŒä¸€äºº | ã€Œ{player_name}ï¼Œä½ çš„{node_label}æ˜¯{known_name}å—ï¼Ÿã€        | ã€Œç©å®¶ç‹äºŒï¼Œä½ çš„çˆºçˆºæ˜¯ã€ç‹é‡‘å‰›ã€å—ï¼Ÿã€     |
|          | ç¢ºèªå§“åçš„å¤šç¨®å¯«æ³•         | ã€Œã€{name_variant_1}ã€å’Œã€{name_variant_2}ã€æ˜¯åŒä¸€å€‹äººå—ï¼Ÿã€ | ã€Œã€ç‹å¤§æ˜ã€å’Œã€å¤§æ˜ã€æ˜¯åŒä¸€å€‹äººå—ï¼Ÿã€     |
| æ’åºç¢ºèª | ç¢ºèªå…©å€‹äººçš„å¹´é½¡å¤§å°       | ã€Œ{node_A}å’Œ{node_B}èª°çš„å¹´ç´€æ¯”è¼ƒå¤§ï¼Ÿã€                       | ã€Œç‹é‡‘å‰›å’Œæå°è¯èª°çš„å¹´ç´€æ¯”è¼ƒå¤§ï¼Ÿã€         |
|          | å¤šäººæ’åº                   | ã€ŒæŒ‰å¹´é½¡å¤§å°æ’åºï¼š{node_list}ã€                              | ã€ŒæŒ‰å¹´é½¡å¤§å°æ’åºï¼šç‹å¤§æ˜ã€ç‹ä¸­æ˜ã€ç‹å°æ˜ã€ |

---

## ğŸ”„ ç³»çµ±å¯¦ä½œé‚è¼¯æµç¨‹

### æµç¨‹ 1ï¼šè·¯å¾‘å¯¦é«”åŒ– (Instantiation)

ç³»çµ±æƒæç¬¬ä¸€éšæ®µçµæœï¼Œæ ¹æ“šã€Œç¨±è¬è·¯å¾‘è¡¨ã€è‡ªå‹•å»ºç«‹è™›æ“¬ç¯€é»ï¼š

```
è¼¸å…¥ï¼šç¬¬ä¸€éšæ®µçµæœ
  - ç©å®¶ A: ç©å®¶ B æ˜¯æˆ‘çš„å ‚å…„
  - ç©å®¶ C: ç©å®¶ B æ˜¯æˆ‘çš„è¡¨å…„

éç¨‹ï¼š
  1. è§£æã€Œå ‚å…„ã€è·¯å¾‘ï¼šPÂ².C â†’ éœ€è¦ A çš„ç¥–çˆ¶ç´šç¯€é»
  2. è§£æã€Œè¡¨å…„ã€è·¯å¾‘ï¼šM.PÂ².C â†’ éœ€è¦ C çš„ç¥–çˆ¶ç´šç¯€é»ï¼ˆæ¯è¦ªé‚£é‚Šï¼‰
  3. æª¢æŸ¥è™›æ“¬ç¯€é»é›†åˆï¼Œä¸å­˜åœ¨å‰‡å»ºç«‹ï¼š
     - è™›æ“¬ç¯€é»ã€ŒA çš„ç¥–çˆ¶ã€
     - è™›æ“¬ç¯€é»ã€ŒA çš„ç¥–çˆ¶çš„å…’å­ï¼ˆä¼¯å”ï¼‰ã€
     - è™›æ“¬ç¯€é»ã€ŒC çš„å¤–å…¬ã€ï¼ˆæ¯è¦ªçš„çˆ¶è¦ªï¼‰
     - è™›æ“¬ç¯€é»ã€ŒC çš„å¤–å…¬çš„å…’å­ï¼ˆèˆ…èˆ…ï¼‰ã€
  4. æ¨™è¨˜ã€ŒA æ˜¯è™›æ“¬ç¯€é»ã€ä¼¯å”ã€çš„å…’å­ã€
  5. æ¨™è¨˜ã€ŒB æ˜¯è™›æ“¬ç¯€é»ã€ä¼¯å”ã€çš„å…’å­ã€

è¼¸å‡ºï¼š
  - æ–°è™›æ“¬ç¯€é»åˆ—è¡¨
  - è·¯å¾‘å¯¦é«”åŒ–å®Œæˆï¼Œæº–å‚™é€²å…¥ä»»å‹™åˆ†æ´¾
```

### æµç¨‹ 2ï¼šä»»å‹™åˆ†æ´¾ (Dispatching)

æ ¹æ“šå„ªå…ˆç´šç®—æ³•ï¼Œå°‡ã€Œå‘½åã€èˆ‡ã€Œè¿½æº¯ã€ä»»å‹™ä¸Ÿå…¥ Task Queueï¼š

```
å…¥éšŠä»»å‹™ï¼ˆå„ªå…ˆç´šæ’åºï¼‰ï¼š
  1. å‘½åã€ŒA çš„ç¥–çˆ¶ã€(å„ªå…ˆç´š: 100, æ´¾ç™¼çµ¦ï¼šA)
  2. å‘½åã€ŒA çš„ç¥–æ¯ã€(å„ªå…ˆç´š: 100, æ´¾ç™¼çµ¦ï¼šA)
  3. è¿½æº¯ã€Œç¥–çˆ¶çš„å…’å­ã€(å„ªå…ˆç´š: 90, æ´¾ç™¼çµ¦ï¼šA æˆ– C)
  4. å‘½åã€Œå¤–å…¬ã€(å„ªå…ˆç´š: 100, æ´¾ç™¼çµ¦ï¼šC)
  ...
```

### æµç¨‹ 3ï¼šç¯€é»å»é‡èˆ‡åŒ¯èš (Deduplication)

ç³»çµ±é€é**å…©éšæ®µå»é‡æ©Ÿåˆ¶**è™•ç†åŒåç¯€é»ï¼š

**éšæ®µä¸€ï¼šçµæ§‹æ€§å»é‡ï¼ˆè‡ªå‹•ï¼ŒPhase 1 â†’ Phase 2 äº¤æ¥æ™‚ï¼‰**

- åŒä¸€å­ç¯€é»çš„å¤šå€‹åŒæ€§åˆ¥è™›æ“¬çˆ¶æ¯ç¯€é» â†’ è‡ªå‹•åˆä½µï¼ˆä¸éœ€äººå·¥ç¢ºèªï¼‰
- ä½¿ç”¨è¿­ä»£æ”¶æ–‚ç­–ç•¥ï¼Œé‡è¤‡åŸ·è¡Œç›´åˆ°ä¸å‹•é»

**éšæ®µäºŒï¼šåŒååµæ¸¬å»é‡ï¼ˆåŠè‡ªå‹•ï¼ŒPhase 2 é€²è¡Œä¸­ï¼‰**

```
ç¤ºä¾‹ï¼š
  - A å›ç­”ã€Œæˆ‘çš„ç¥–çˆ¶å«ç‹å¤§æ˜ã€â†’ è™›æ“¬ç¯€é» A_P_f_P_f å‘½åç‚ºã€Œç‹å¤§æ˜ã€
  - B å›ç­”ã€Œæˆ‘çš„ç¥–çˆ¶å«ç‹å¤§æ˜ã€â†’ è™›æ“¬ç¯€é» B_P_f_P_f å‘½åç‚ºã€Œç‹å¤§æ˜ã€
  â†’ â˜… ç³»çµ±è‡ªå‹•åµæ¸¬åŒåï¼Œç”¢ç”ŸåŒ¯èšç¢ºèªä»»å‹™ï¼ˆæ’å…¥éšŠåˆ—é ­éƒ¨ï¼‰
  â†’ æå•ï¼šã€ŒAçš„ç¥–çˆ¶ï¼ˆç‹å¤§æ˜ï¼‰èˆ‡ Bçš„ç¥–çˆ¶ï¼ˆç‹å¤§æ˜ï¼‰æ˜¯åŒä¸€å€‹äººå—ï¼Ÿã€
  â†’ ç©å®¶ç¢ºèªã€Œæ˜¯ã€â†’ åˆä½µå…©å€‹è™›æ“¬ç¯€é»
  â†’ ç©å®¶ç¢ºèªã€Œå¦ã€â†’ ç¶­æŒå…©å€‹ç¨ç«‹ç¯€é»
```

**å»é‡è¦å‰‡**ï¼š

- å®Œå…¨åŒå â†’ è‡ªå‹•è§¸ç™¼åŒ¯èšç¢ºèªä»»å‹™ï¼Œç”±ç©å®¶åˆ¤æ–·
- ç¢ºèªç‚ºåŒä¸€äºº â†’ åˆä½µç¯€é»ï¼Œæ›´æ–°æ‰€æœ‰å¼•ç”¨ï¼Œç§»é™¤ç›¸é—œå¾…è™•ç†ä»»å‹™
- ç¢ºèªéåŒä¸€äºº â†’ æ¨™è¨˜ç‚ºå·²ç¢ºèªï¼Œä¸å†é‡è¤‡è©¢å•
- è¡çªè³‡è¨Šï¼ˆåˆä½µæ™‚ç™¼ç¾çŸ›ç›¾ï¼‰â†’ æ¨™è¨˜ç‚ºã€Œè¡çªã€ï¼Œç§»äº¤ç¬¬ä¸‰éšæ®µè™•ç†

### æµç¨‹ 4ï¼šå‹•æ…‹æ›´æ–°

ä¸€æ—¦ç¯€é»æœ‰äº†æ–°è³‡è¨Šï¼Œæ‰€æœ‰ç›¸é—œå•é¡Œè‡ªå‹•æ›´æ–°ï¼š

```
åˆå§‹å•é¡Œï¼ˆç¯€é»æš«ç„¡å§“åï¼‰ï¼š
  ã€Œä½ çš„çˆ¶è¦ªå«ä»€éº¼åå­—ï¼Ÿã€

ç©å®¶å¡«å¯«å¾Œï¼š
  ã€Œä½ çš„çˆ¶è¦ªå«ã€ç‹å¤§æ˜ã€ï¼Œä»–çš„ç”Ÿæ—¥æ˜¯ï¼Ÿã€

å†å¡«å¯«æ€§åˆ¥å¾Œï¼š
  ã€Œç‹å¤§æ˜ï¼ˆç”·æ€§ï¼‰æ˜¯ä½ çš„çˆ¶è¦ªï¼Œè«‹ç¢ºèªä»–çš„ç”Ÿæ—¥...ã€

å¯¦æ™‚å½±éŸ¿å…¶ä»–å•é¡Œï¼š
  ç¯€é»åŒ¯èšå•é¡Œè‡ªå‹•æ›´æ–°ï¼š
    ã€Œç©å®¶ Bï¼Œä½ çš„çˆºçˆºæ˜¯ã€ç‹é‡‘å‰›ã€å—ï¼Ÿã€ï¼ˆä¹‹å‰å±•ç¤ºçš„æ˜¯è™›æ“¬ç¯€é» IDï¼‰
```

---

## âš ï¸ é‚Šç•Œæƒ…æ³è™•ç†

### æƒ…æ³ 1ï¼šå¤šé‡å©šå§»èˆ‡è¤‡é›œé—œä¿‚

**ç¾ç‹€**ï¼šMVP æš«ä¸è™•ç†å†å©šæˆ–é ˜é¤Šï¼Œä»¥ä¸€å¤«ä¸€å¦»åˆ¶çš„ç›´ç³»è¡€è¦ªç‚ºä¸»

**è™•ç†æ–¹å¼**ï¼š

- ç³»çµ±å‡è¨­æ¯ä½ç©å®¶æœ‰å”¯ä¸€çš„çˆ¶è¦ªèˆ‡æ¯è¦ªï¼ˆè™›æ“¬ç¯€é»ï¼‰
- è‹¥ç©å®¶é–“é—œä¿‚æ¶‰åŠå†å©šï¼ˆå¦‚ã€Œæˆ‘æ˜¯åŒçˆ¶ç•°æ¯çš„å…„å¼Ÿã€ï¼‰ï¼Œæš«æ™‚è¨˜éŒ„ç‚ºã€Œå¾…ç¢ºèªã€ç‹€æ…‹
- åœ¨éšæ®µä¸‰é€²è¡Œäººå·¥å¯©æ ¸æˆ–ç‰¹æ®Šæ¨™è¨˜

**EFU å®Œæ•´åŒ–çš„å½±éŸ¿**ï¼š

- å¤šé‡å©šå§»å°è‡´ EFU å‘å´ï¼ˆé…å¶ï¼‰ç¶­åº¦ä¸å®Œæ•´æ™‚ï¼Œæ¨™è¨˜ç‚ºã€Œä¸é©ç”¨ã€è€Œéã€Œä¸å®Œæ•´ã€
- ç³»çµ±ä»æ‡‰ç¢ºä¿å‘ä¸Šã€å‘ä¸‹ç¶­åº¦çš„å®Œæ•´æ€§

### æƒ…æ³ 2ï¼šåŒååŒå§“åµæ¸¬èˆ‡åˆä½µ

**ç¾è±¡**ï¼šå…©ä½ç©å®¶åˆ†åˆ¥å›ç­”è‡ªå·±ç¥–çˆ¶çš„åå­—ï¼Œæ°å·§åŒåï¼ˆä¾‹å¦‚éƒ½å«ã€Œç‹å¤§æ˜ã€ï¼‰ï¼Œä½†ç³»çµ±å»ºç«‹äº†å…©å€‹ä¸åŒçš„è™›æ“¬ç¯€é»

**è‡ªå‹•åµæ¸¬æ©Ÿåˆ¶**ï¼š

1. ç©å®¶ A å›ç­”ã€Œæˆ‘çš„ç¥–çˆ¶å«ç‹å¤§æ˜ã€â†’ è™›æ“¬ç¯€é» A\_ç¥–çˆ¶ å‘½åç‚ºã€Œç‹å¤§æ˜ã€
2. ç©å®¶ B å›ç­”ã€Œæˆ‘çš„ç¥–çˆ¶å«ç‹å¤§æ˜ã€â†’ è™›æ“¬ç¯€é» B\_ç¥–çˆ¶ å‘½åç‚ºã€Œç‹å¤§æ˜ã€
3. â˜… ç³»çµ±è‡ªå‹•åµæ¸¬åˆ°åŒåç¯€é»ï¼Œç«‹å³ç”¢ç”Ÿ**ç¯€é»åŒ¯èšä»»å‹™**ï¼ˆå„ªå…ˆæ’å…¥éšŠåˆ—é ­éƒ¨ï¼‰
4. ç³»çµ±ç”¨**å…©å€‹ä¸åŒè·¯å¾‘**ä½œç‚ºæå•ä¸»è©ï¼Œå¹«åŠ©ç©å®¶è¾¨è­˜ï¼š
   - ã€ŒAçš„ç¥–çˆ¶ï¼ˆç‹å¤§æ˜ï¼‰èˆ‡ Bçš„ç¥–çˆ¶ï¼ˆç‹å¤§æ˜ï¼‰æ˜¯åŒä¸€å€‹äººå—ï¼Ÿã€

**è™•ç†æ–¹å¼**ï¼š

| ç©å®¶å›ç­”   | ç³»çµ±å‹•ä½œ                                                                                       |
| ---------- | ---------------------------------------------------------------------------------------------- |
| æ˜¯åŒä¸€äºº   | åˆä½µå…©å€‹è™›æ“¬ç¯€é»ï¼ˆä¿ç•™å…¶ä¸€ï¼Œåˆªé™¤å¦ä¸€å€‹ï¼‰ï¼Œæ›´æ–°æ‰€æœ‰å¼•ç”¨ï¼Œç§»é™¤èˆ‡è¢«åˆªé™¤ç¯€é»ç›¸é—œçš„æœªå®Œæˆä»»å‹™       |
| ä¸æ˜¯åŒä¸€äºº | ç¶­æŒå…©å€‹ç¨ç«‹ç¯€é»ï¼Œæ¨™è¨˜ç‚ºã€Œå·²ç¢ºèªéåŒä¸€äººã€ï¼Œå¾ŒçºŒä¸å†å°æ­¤çµ„åˆç”¢ç”ŸåŒ¯èšä»»å‹™                       |
| ä¸ç¢ºå®š     | æ¨™è¨˜ç‚ºã€Œç–‘ä¼¼åŒä¸€äººã€ï¼Œé™ä½å„ªå…ˆç´šå¾Œé‡æ–°åˆ†æ´¾çµ¦å…¶ä»–ç©å®¶ç¢ºèªï¼›è‹¥æ™‚é–“çµæŸä»æœªç¢ºèªï¼Œç§»äº¤ç¬¬ä¸‰éšæ®µè™•ç† |

**åˆä½µè¦å‰‡**ï¼š

- ä¿ç•™ç¯€é»ç¹¼æ‰¿è¢«åˆä½µç¯€é»çš„æ‰€æœ‰é—œä¿‚ï¼ˆé…å¶ã€å­å¥³ã€çˆ¶æ¯ï¼‰
- å±¬æ€§å–è¯é›†ï¼šå·²æœ‰å€¼ä¿ç•™ï¼Œç¼ºå¤±å€¼å¾è¢«åˆä½µç¯€é»è£œå……
- EFU ç‹€æ…‹å– ORï¼šä»»ä¸€å®Œæˆå³è¦–ç‚ºå®Œæˆ
- æ›´æ–°æ‰€æœ‰å…¶ä»–ç¯€é»ä¸­å°è¢«åˆä½µç¯€é» ID çš„å¼•ç”¨

**EFU å®Œæ•´åŒ–çš„å½±éŸ¿**ï¼š

- åˆä½µå¾Œå¯èƒ½å°è‡´ EFU å®Œæ•´åº¦æå‡ï¼ˆå…©å€‹åŠå®Œæ•´çš„ EFU åˆä½µç‚ºä¸€å€‹å®Œæ•´çš„ï¼‰
- è¡çªè§£æ±ºå¾Œï¼Œç³»çµ±æ‡‰é‡æ–°é©—è­‰ç›¸é—œç¯€é»çš„ EFU å®Œæ•´æ€§

### æƒ…æ³ 3ï¼šè¡çªæ¨™è¨˜

**ç¾è±¡**ï¼šç©å®¶ A èˆ‡ B å°åŒä¸€è™›æ“¬ç¯€é»çš„è³‡è¨Šï¼ˆå¦‚ç”Ÿæ—¥ï¼‰å›ç­”ä¸ä¸€è‡´

**è™•ç†æ–¹å¼**ï¼š

- ç³»çµ±**ä¸æ‡‰å¡ä½**ï¼Œç¹¼çºŒé€²è¡ŒéŠæˆ²
- å°‡è¡çªæ¨™è¨˜ç‚ºï¼š`conflict: { node_id: xxx, field: 'birthday', values: ['1980-01-01', '1980-01-02'], sources: [playerA, playerB] }`
- è½‰äº¤è‡³ç¬¬ä¸‰éšæ®µé©—è­‰èˆ‡äººå·¥è™•ç†

**EFU å®Œæ•´åŒ–çš„å½±éŸ¿**ï¼š

- å³ä½¿è³‡è¨Šè¡çªï¼Œåªè¦ç¯€é»æœ¬èº«å­˜åœ¨ä¸”æœ‰å§“åã€æ€§åˆ¥ï¼Œä»è¦–ç‚ºã€Œéƒ¨åˆ†å®Œæ•´ã€
- å®Œæ•´è¡çªè§£æ±ºå¾Œï¼Œé‡æ–°è©•ä¼°ç¯€é»çš„ EFU å®Œæ•´åº¦

### æƒ…æ³ 4ï¼šEFU ä¸å®Œæ•´çš„ç‰¹æ®Šå ´æ™¯

**ç¾è±¡**ï¼šæŸäº›é—œéµç¯€é»å› ç©å®¶è³‡è¨Šä¸è¶³ï¼Œå°è‡´ EFU æŸç¶­åº¦ç„¡æ³•å®Œæ•´

**å¸¸è¦‹æƒ…æ³**ï¼š

- **å‘ä¸Šç¶­åº¦ç¼ºå¤±**ï¼šç©å®¶ä¸çŸ¥é“è¦ªç”Ÿçˆ¶è¦ªæˆ–æ¯è¦ª
- **å‘å´ç¶­åº¦ç¼ºå¤±**ï¼šç©å®¶æœªå©šæˆ–é…å¶ä¸æ˜¯ç›´ç³»è¦ªå±¬
- **å‘ä¸‹ç¶­åº¦ç¼ºå¤±**ï¼šç©å®¶ç„¡å­å¥³

**è™•ç†æ–¹å¼**ï¼š

| EFU ç¶­åº¦         | å®Œæ•´æ€§è¦æ±‚                   | è™•ç†é‚è¼¯                                                                                         |
| ---------------- | ---------------------------- | ------------------------------------------------------------------------------------------------ |
| **å‘ä¸Šï¼ˆçˆ¶æ¯ï¼‰** | âš ï¸ å¿…éœ€                      | è‹¥ç©å®¶ç¢ºå¯¦ä¸çŸ¥é“è¦ªç”Ÿçˆ¶æ¯ï¼Œæ¨™è¨˜ç‚ºã€Œå­¤ç«‹ç¯€é»ã€ï¼Œä¸èƒ½å‘ä¸Šè¿½æº¯ï¼›è‹¥ç³»çµ±æ¨å°å‡ºä½†ç©å®¶éºæ¼ï¼Œæ´¾ç™¼è£œå……ä»»å‹™ |
| **å‘å´ï¼ˆé…å¶ï¼‰** | âœ… æœ‰å‰‡å®Œæ•´ï¼Œç„¡å‰‡è¦–ç‚ºå·²å©š=å¦ | æœªå©šç©å®¶çš„å‘å´ç¶­åº¦è¦–ç‚ºã€Œå®Œæ•´ã€ï¼ˆç„¡é…å¶ï¼‰                                                         |
| **å‘ä¸‹ï¼ˆå­å¥³ï¼‰** | âœ… æœ‰å‰‡å®Œæ•´ï¼Œç„¡å‰‡è¦–ç‚ºç„¡å­å¥³  | ç¢ºèªç©å®¶çš„æ‰€æœ‰å­å¥³ï¼›è‹¥ç¢ºèªã€Œç„¡å­å¥³ã€ï¼Œå‘ä¸‹ç¶­åº¦è¦–ç‚ºã€Œå®Œæ•´ã€                                       |

**EFU å®Œæ•´åŒ–åˆ¤å®šæ›´æ–°**ï¼š

```
EFU å®Œæ•´ = (æœ‰çˆ¶è¦ªæˆ–ã€Œå­¤ç«‹ã€) AND (æœ‰æ¯è¦ªæˆ–ã€Œå­¤ç«‹ã€)
         AND (æœ‰é…å¶æˆ–æœªå©š)
         AND (æœ‰æ‰€æœ‰å­å¥³æˆ–å·²ç¢ºèªã€Œç„¡å­å¥³ã€)
```

### æƒ…æ³ 5ï¼šç©å®¶é›¢ç·šèˆ‡é‡é€£

| æƒ…æ³     | è™•ç†æ–¹å¼                                 |
| -------- | ---------------------------------------- |
| ç©å®¶é›¢ç·š | æ¨™è¨˜ç‚ºé›¢ç·šï¼Œæš«åœæ´¾é¡Œçµ¦ä»–ï¼Œå·²æ´¾é¡Œé‡æ–°åˆ†æ´¾ |
| ç©å®¶é‡é€£ | æ¢å¾©ç·šä¸Šç‹€æ…‹ï¼Œæœªå®Œæˆçš„ä»»å‹™ä»å¯ç¹¼çºŒä½œç­”   |

### æƒ…æ³ 6ï¼šä»»å‹™æ± è€—ç›¡

```
IF TaskQueue ç‚ºç©º AND æ‰€æœ‰ç©å®¶éƒ½å®Œæˆåˆ†æ´¾:
  â””â”€ é€²å…¥ã€Œå¤§æ­æ›‰ã€éšæ®µ
  â””â”€ ä¸å†æ´¾é¡Œï¼Œç­‰å¾…éŠæˆ²çµæŸ
```

### æƒ…æ³ 6ï¼šè¶…æ™‚è‡ªå‹•è™•ç†

```
IF ç©å®¶ P ç²æ´¾ä»»å‹™ Tï¼Œ30 ç§’ç„¡åæ‡‰:
  â”œâ”€ è‡ªå‹•ä½œç‚ºã€Œè·³éã€è™•ç†
  â”œâ”€ ä»»å‹™ T é‡æ–°é€²å…¥ä½‡åˆ—
  â””â”€ å„ªå…ˆç´š Priority(P) é™ä½ 20%
```

**EFU å®Œæ•´åŒ–çš„å½±éŸ¿**ï¼š

- è¶…æ™‚è·³éçš„ L1-L3 ä»»å‹™ï¼Œæœƒå½±éŸ¿ EFU å®Œæ•´åº¦é”æˆé€²åº¦
- ç³»çµ±æ‡‰åœ¨æ™‚é–“çµæŸå¾Œï¼Œæ ¹æ“šæœªå®Œæˆçš„ L1-L3 ä»»å‹™è©•ä¼° EFU çš„ã€Œå¯¦éš›å®Œæ•´åº¦ã€

### æƒ…æ³ 7ï¼šé—œä¿‚é–å®š

```
IF ç©å®¶ A & B çš„é—œä¿‚å·²ç¢ºèª:
  â””â”€ ç³»çµ±æ°¸ä¹…è¨˜éŒ„è©²é—œä¿‚
  â””â”€ ä¸å†æå•åŒä¸€å°ç©å®¶çš„é—œä¿‚
  â””â”€ è‹¥å¾ŒçºŒæœ‰çŸ›ç›¾æäº¤ï¼Œè§¸ç™¼è¡çªè§£æ±º
```

### æƒ…æ³ 9ï¼šé©—è­‰éšæ®µä¸­çš„ã€Œå¾…ç¢ºèªã€ç‹€æ…‹

```
IF ç©å®¶åœ¨é©—è­‰éšæ®µé¸æ“‡ã€Œä¸ç¢ºå®šã€:
  â”œâ”€ å°‡è©²ç¯€é»æ¨™è¨˜ç‚ºã€Œå¾…ç¢ºèªã€
  â”œâ”€ ç¨å¾Œå¯ç”±å…¶ä»–ç©å®¶é©—è­‰æˆ–ç¢ºèª
  â””â”€ éŠæˆ²çµæŸæ™‚ä»æœªç¢ºèªçš„ç¯€é»æœƒåœ¨ã€Œå¤§æ­æ›‰ã€ä¸­æ¨™è¨»
```

**EFU å®Œæ•´åŒ–çš„å½±éŸ¿**ï¼š

- ã€Œå¾…ç¢ºèªã€ç‹€æ…‹çš„ç¯€é»ï¼Œä»è¦–ç‚ºã€Œéƒ¨åˆ†å®Œæ•´ã€ï¼ˆæœ‰ç¯€é»å­˜åœ¨ï¼Œä½†è³‡è¨Šå¾…é©—è­‰ï¼‰
- ä¸å½±éŸ¿ EFU å®Œæ•´åº¦çš„è¨ˆç®—ï¼Œä½†æœƒæ¨™è¨˜ç‚ºã€Œä½ä¿¡å¿ƒã€

---

## âš–ï¸ è¡çªæª¢æ¸¬èˆ‡è§£æ±º

### è¡çªå ´æ™¯

**å ´æ™¯ 1ï¼šå°åŒä¸€å€‹äººçš„æè¿°çŸ›ç›¾**

```
ç¯€é» V1 (ç¥–çˆ¶)
â”œâ”€ ç©å®¶ A å¡«å¯«ï¼šå§“å = "ç‹å°æ˜"ï¼Œæ€§åˆ¥ = "ç”·"ï¼Œç”Ÿæ—¥ = "1945/01/01"
â”œâ”€ ç©å®¶ B ç¨å¾Œå¡«å¯«ï¼šå§“å = "ç‹æ›‰æ°‘"ï¼Œæ€§åˆ¥ = "å¥³"ï¼Œç”Ÿæ—¥ = "1945/06/06"
â†’ æª¢æ¸¬è¡çªï¼šå§“åã€æ€§åˆ¥ã€ç”Ÿæ—¥éƒ½ä¸åŒ¹é…
```

**å ´æ™¯ 2ï¼šé—œä¿‚ä¸ä¸€è‡´**

```
A èªªï¼šC æ˜¯æˆ‘çš„å…’å­
B èªªï¼šC æ˜¯æˆ‘çš„å…„å¼Ÿ
â†’ DAG é©—è­‰æ™‚ç™¼ç¾ç’°è·¯æˆ–çŸ›ç›¾
```

### è¡çªè§£æ±ºæµç¨‹

1. è¡çªçš„é›™æ–¹ï¼ˆæˆ–å¤šæ–¹ï¼‰åŒæ™‚æ”¶åˆ°è¡çªä»»å‹™
2. å„è‡ªå¾é¸é …ä¸­é¸æ“‡ä¸€å€‹ç­”æ¡ˆï¼ˆè‹¥é¸æ“‡ä¸€è‡´ â†’ è¡çªè§£æ±ºï¼‰
3. è‹¥é¸æ“‡ä»æœ‰åˆ†æ­§ â†’ è§¸ç™¼ã€Œäººå·¥ç¢ºèªã€ï¼ˆç”±æˆ¿ä¸»æˆ–åœ¨å ´é•·è¼©æ±ºå®šï¼‰

**è¡çªä»»å‹™ç¯„ä¾‹**ï¼š

```
ã€Œé—œæ–¼é€™ä½ç¥–çˆ¶ï¼Œæœ‰å…©å€‹ä¸åŒç­”æ¡ˆï¼Œè«‹é¸æ“‡ä½ èªç‚ºæ­£ç¢ºçš„ï¼šã€
  â”œâ”€ åŒæ„ A çš„ç­”æ¡ˆï¼ˆæ€§åˆ¥ = ç”·ï¼‰
  â”œâ”€ åŒæ„ B çš„ç­”æ¡ˆï¼ˆæ€§åˆ¥ = å¥³ï¼‰
  â””â”€ éƒ½ä¸ç¢ºå®šï¼Œæ¨™è¨˜ç‚ºã€Œå¾…ç¢ºèªã€
```

### è¡çªæª¢æ¸¬è§¸ç™¼é»

1. **æ–°è³‡æ–™æäº¤æ™‚**ï¼ˆè³‡æ–™è£œé½Šéšæ®µï¼‰
   - æª¢æŸ¥æ–°è³‡æ–™æ˜¯å¦èˆ‡å·²æœ‰è³‡æ–™è¡çª
   - å¦‚æœè¡çªï¼Œç«‹å³è§¸ç™¼ã€Œè¡çªè§£æ±ºä»»å‹™ã€

2. **é©—è­‰éšæ®µ**ï¼ˆè³‡æ–™é©—è­‰éšæ®µï¼‰
   - ç©å®¶é©—è­‰å·²å®Œæˆçš„è³‡æ–™æ™‚ç™¼ç¾ä¸ä¸€è‡´
   - è§¸ç™¼ã€Œè¡çªè§£æ±ºä»»å‹™ã€

3. **DAG é©—è­‰æ™‚**
   - æª¢æŸ¥æ–°é—œä¿‚æ˜¯å¦é€ æˆç’°è·¯æˆ–çŸ›ç›¾
   - å¦‚æœç™¼ç¾ï¼Œåœæ­¢ç¢ºèªï¼Œæ”¹ç‚ºè¡çªè§£æ±º

### è¡çªå° EFU å®Œæ•´åŒ–çš„å½±éŸ¿

**EFU ç¶­åº¦å®Œæ•´æ€§åœ¨è¡çªå­˜åœ¨æ™‚çš„è™•ç†**ï¼š

| è¡çªé¡å‹          | EFU ç¶­åº¦å½±éŸ¿     | è™•ç†é‚è¼¯                                                                    |
| ----------------- | ---------------- | --------------------------------------------------------------------------- |
| **å§“å/æ€§åˆ¥è¡çª** | ä¸å½±éŸ¿å®Œæ•´æ€§åˆ¤å®š | ä¿ç•™å…©å€‹ç­”æ¡ˆç‰ˆæœ¬ï¼Œæ¨™è¨˜ç‚ºã€Œå¾…é©—è­‰ã€ï¼Œä¸è¦–ç‚º EFU ä¸å®Œæ•´                       |
| **è¦ªå±¬é—œä¿‚è¡çª**  | å½±éŸ¿è·¯å¾‘å®Œæ•´æ€§   | è‹¥åŒä¸€ç¯€é»æœ‰å¤šå€‹å¯èƒ½çš„çˆ¶è¦ª/æ¯è¦ªï¼Œå‰‡å‘ä¸Šç¶­åº¦è¦–ç‚ºã€Œå¾…ç¢ºèªã€ï¼Œæš«æ™‚ä¸è¨ˆå…¥å®Œæ•´åº¦ |
| **é‚è¼¯çŸ›ç›¾è¡çª**  | å½±éŸ¿å…¨å±€ EFU     | ç’°è·¯æˆ–åš´é‡çŸ›ç›¾çš„æƒ…æ³ï¼Œæ ‡è®°æ•´å€‹å­æ ‘ç‚ºã€Œå¾…é©—è­‰ã€ï¼Œä¸è¨ˆå…¥ EFU å®Œæ•´åº¦           |

**è¡çªè§£æ±ºå¾Œçš„ EFU é‡æ–°è©•ä¼°**ï¼š

- è¡çªç¢ºèªå¾Œï¼Œç³»çµ±æ‡‰é‡æ–°é©—è­‰å—å½±éŸ¿ç¯€é»çš„ EFU å®Œæ•´åº¦
- è‹¥è¡çªè§£æ±ºå°è‡´æ–°çš„è™›æ“¬ç¯€é»ç”¢ç”Ÿï¼Œç¹¼çºŒæ´¾ç™¼ç›¸é—œä»»å‹™è£œé½Š EFU

---

## ğŸ§ª å¯¦éš›å ´æ™¯ç¯„ä¾‹

### å ´æ™¯ 1ï¼šå°å®¶åº­ï¼ˆ3 äººï¼Œç©å®¶ < 4ï¼‰

```
ç©å®¶ï¼š
- Aï¼ˆç¥–çˆ¶ï¼Œç”·ï¼‰
- Bï¼ˆçˆ¶è¦ªï¼Œç”·ï¼ŒA çš„å…’å­ï¼‰
- Cï¼ˆå­«å­ï¼Œç”·ï¼ŒB çš„å…’å­ï¼‰

éšæ®µä¸€ - é—œä¿‚æƒæï¼ˆ< 4 äººï¼Œè©¢å•å…¨éƒ¨ç©å®¶å°ï¼‰ï¼š
  âœ“ ç³»çµ±å• Aï¼šã€ŒB æ˜¯ä½ çš„èª°ï¼Ÿã€â†’ A ç­”ï¼šå…’å­
  âœ“ ç³»çµ±å• Aï¼šã€ŒC æ˜¯ä½ çš„èª°ï¼Ÿã€â†’ A ç­”ï¼šå­«å­
  âœ“ ç³»çµ±å• Bï¼šã€ŒA æ˜¯ä½ çš„èª°ï¼Ÿã€â†’ B ç­”ï¼šçˆ¸çˆ¸
  âœ“ ç³»çµ±å• Bï¼šã€ŒC æ˜¯ä½ çš„èª°ï¼Ÿã€â†’ B ç­”ï¼šå…’å­
  âœ“ ç³»çµ±å• Cï¼šã€ŒA æ˜¯ä½ çš„èª°ï¼Ÿã€â†’ C ç­”ï¼šçˆºçˆº
  âœ“ ç³»çµ±å• Cï¼šã€ŒB æ˜¯ä½ çš„èª°ï¼Ÿã€â†’ C ç­”ï¼šçˆ¸çˆ¸
  çµæœï¼šç¢ºèª A â†’ Bï¼ˆçˆ¶å­ï¼‰ï¼ŒB â†’ Cï¼ˆçˆ¶å­ï¼‰

éšæ®µäºŒ - è³‡æ–™è£œé½Šï¼š
  âœ“ æ¨™è¨˜éœ€å¡«å¯«æ–¹å‘ï¼šA çš„é…å¶ï¼ˆC çš„ç¥–æ¯ï¼‰ã€A çš„çˆ¶è¦ªï¼ˆC çš„æ›¾ç¥–çˆ¶ï¼‰ç­‰
  âœ“ æ´¾é¡Œçµ¦ Aã€Bã€C å¡«å……è™›æ“¬ç¯€é»è³‡è¨Š

éšæ®µä¸‰ - è³‡æ–™é©—è­‰ï¼š
  âœ“ é©—è­‰å·²å¡«å¯«è³‡è¨Šçš„æº–ç¢ºæ€§

ç›®æ¨™ï¼šå®Œæˆè‡³å°‘ 70% çš„æ—è­œè³‡è¨Š
```

### å ´æ™¯ 2ï¼šä¸­å‹å®¶åº­ï¼ˆ5 äººï¼Œç©å®¶ â‰¥ 4ï¼‰

```
ç©å®¶ï¼š
- Aï¼ˆçˆºçˆºï¼Œç”·ï¼‰
- Bï¼ˆå¥¶å¥¶ï¼Œå¥³ï¼ŒA é…å¶ï¼‰
- Cï¼ˆçˆ¶è¦ªï¼Œç”·ï¼ŒA ä¹‹å­ï¼‰
- Dï¼ˆå”å”ï¼Œç”·ï¼ŒA ä¹‹å­ï¼‰
- Eï¼ˆè‡ªå·±ï¼Œç”·ï¼ŒC ä¹‹å­ï¼‰

éšæ®µä¸€ - é—œä¿‚æƒæï¼ˆâ‰¥ 4 äººï¼Œæ¯ä½ç©å®¶è©¢å• 3 äººï¼‰ï¼š
  âœ“ A è¢«å•ï¼šBã€Cã€D æ˜¯ä½ çš„èª°ï¼Ÿï¼ˆ3 å€‹ï¼‰
  âœ“ B è¢«å•ï¼šAã€Cã€E æ˜¯ä½ çš„èª°ï¼Ÿï¼ˆ3 å€‹ï¼‰
  âœ“ C è¢«å•ï¼šAã€Dã€E æ˜¯ä½ çš„èª°ï¼Ÿï¼ˆ3 å€‹ï¼‰
  âœ“ D è¢«å•ï¼šBã€Cã€E æ˜¯ä½ çš„èª°ï¼Ÿï¼ˆ3 å€‹ï¼‰
  âœ“ E è¢«å•ï¼šAã€Bã€D æ˜¯ä½ çš„èª°ï¼Ÿï¼ˆ3 å€‹ï¼‰
  ç¸½å…± 15 å€‹æå•ï¼Œæ¯ä½ç©å®¶è¢«è©¢å• 3 æ¬¡
  è‹¥å›ç­”ã€Œä¸çŸ¥é“ã€ï¼Œç³»çµ±è¿½å•æ–¹å‘ï¼ˆçˆ¸çˆ¸é‚Šã€åª½åª½é‚Šã€é…å¶é‚Šã€å­å¥³é‚Šï¼‰

éšæ®µäºŒ - è³‡æ–™è£œé½Šï¼š
  æ ¹æ“šéšæ®µä¸€ç¢ºèªçš„é—œä¿‚æ´¾ç™¼è™›æ“¬ç¯€é»å¡«å¯«ä»»å‹™

éšæ®µä¸‰ - è³‡æ–™é©—è­‰ï¼š
  é©—è­‰é—œéµç¯€é»çš„è³‡è¨Šæº–ç¢ºæ€§

ç›®æ¨™ï¼šå®Œæˆ 80%+ çš„æ—è­œæ·±åº¦èˆ‡é©—è­‰
```

### å ´æ™¯ 3ï¼šå¤§å‹å®¶åº­ï¼ˆ8 äººï¼Œç©å®¶ â‰¥ 4ï¼‰

```
ç©å®¶ï¼š
- Aï¼ˆçˆºçˆºï¼Œç”·ï¼‰
- Bï¼ˆå¥¶å¥¶ï¼Œå¥³ï¼ŒA é…å¶ï¼‰
- Cï¼ˆçˆ¶è¦ªï¼Œç”·ï¼ŒA ä¹‹å­ï¼‰
- Dï¼ˆå”å”ï¼Œç”·ï¼ŒA ä¹‹å­ï¼‰
- Eï¼ˆè‡ªå·±ï¼Œç”·ï¼ŒC ä¹‹å­ï¼‰
- Fï¼ˆå…„å¼Ÿï¼Œç”·ï¼ŒC ä¹‹å­ï¼Œèˆ‡ E åŒæ¯ç•°çˆ¶ â†’ æ¨™è¨˜å¾…ç¢ºèªï¼‰
- Gï¼ˆè¡¨å¦¹ï¼Œå¥³ï¼ŒD çš„å¥³å…’ï¼‰
- Hï¼ˆé…å¶ï¼Œå¥³ï¼Œèˆ‡ E çµå©šï¼‰

éšæ®µä¸€ - é—œä¿‚æƒæï¼ˆæ¯ä½ç©å®¶è©¢å• 3 äººï¼‰ï¼š
  å…± 8 Ã— 3 = 24 å€‹æå•ï¼Œæ¯ä½ç©å®¶è¢«è©¢å• 3 æ¬¡
  æ™ºèƒ½é¸æ“‡ 3 ä½è©¢å•å°è±¡ï¼Œç¢ºä¿æ—è­œé€£è²«æ€§

éšæ®µäºŒ - è³‡æ–™è£œé½Šï¼š
  æ ¹æ“šéšæ®µä¸€ç¢ºèªçš„é—œä¿‚æ´¾ç™¼ 20+ å€‹è™›æ“¬ç¯€é»å¡«å¯«ä»»å‹™

ç›®æ¨™ï¼šå®Œæˆ 90%+ çš„æ—è­œå®Œæ•´åº¦
```

### å ´æ™¯ 4ï¼šè¡çªæª¢æ¸¬èˆ‡è§£æ±º

```
å ´æ™¯èªªæ˜ï¼š

é—œä¿‚æƒæéšæ®µçš„æ½›åœ¨è¡çªï¼š
  - ç©å®¶ A å›ç­”ï¼šã€Œç©å®¶ B æ˜¯æˆ‘çš„å…’å­ã€
  - ç©å®¶ B å›ç­”ï¼šã€Œç©å®¶ A æ˜¯æˆ‘çš„å“¥å“¥ã€
  â†’ ç³»çµ±æª¢æ¸¬çŸ›ç›¾ï¼Œæ´¾ç™¼è¡çªè§£æ±ºä»»å‹™

è³‡æ–™è£œé½Šéšæ®µç”¢ç”Ÿè¡çªï¼š
  - ç©å®¶ A å¡«å¯«ï¼šç¥–çˆ¶å§“å = "ç‹å°æ˜"
  - ç©å®¶ B å¡«å¯«ï¼šç¥–çˆ¶å§“å = "ç‹æ›‰æ°‘"
  â†’ ç³»çµ±æª¢æ¸¬è¡çªï¼Œæ´¾ç™¼è¡çªè§£æ±ºä»»å‹™

é©—è­‰éšæ®µç”¢ç”Ÿè¡çªï¼š
  - ç©å®¶ A é©—è­‰ï¼šç¢ºèªç¥–çˆ¶æ€§åˆ¥ = ç”·
  - ç©å®¶ B é©—è­‰ï¼šå¦å®šæ­¤ä¿¡æ¯ï¼ˆèªªç¥–çˆ¶æ˜¯å¥³æ€§ï¼‰
  â†’ ç³»çµ±æª¢æ¸¬è¡çªï¼Œæ´¾ç™¼è¡çªè§£æ±ºä»»å‹™

æ¸¬è©¦é‡é»ï¼š
  âœ“ è¡çªæª¢æ¸¬æ˜¯å¦æ­£ç¢ºè§¸ç™¼
  âœ“ è¡çªä»»å‹™æ˜¯å¦æ´¾çµ¦é›™æ–¹
  âœ“ è¡çªè§£æ±ºå¾Œè¨ˆåˆ†æ˜¯å¦æ­£ç¢ºï¼ˆè¦‹ scoring_system.mdï¼‰
```

---

## ğŸ’¾ éšæ®µäºŒå®Œæˆæ¢ä»¶

**ç³»çµ±å®šç¾©**ï¼ˆç”±å¾Œç«¯è‡ªå‹•åˆ¤å®šï¼‰ï¼š

### âœ… EFU å®Œæ•´åŒ–é”æˆæ¢ä»¶

æ­¤éšæ®µçš„æ ¸å¿ƒç›®æ¨™æ˜¯é”æˆæ‰€æœ‰é—œéµç¯€é»çš„ **EFU å®Œæ•´åŒ–**ã€‚ç³»çµ±æ‡‰é©—è­‰ä»¥ä¸‹æ¢ä»¶ï¼š

1. âœ“ **å‘ä¸Šç¶­åº¦**ï¼šæ‰€æœ‰é—œéµç¯€é»éƒ½æœ‰çˆ¶è¦ªèˆ‡æ¯è¦ªè™›æ“¬ç¯€é»ï¼ˆæˆ–æ˜ç¢ºæ¨™è¨˜ç‚ºã€Œå­¤ç«‹ã€ï¼‰
2. âœ“ **å‘å´ç¶­åº¦**ï¼šæ‰€æœ‰å·²å©šçš„é—œéµç¯€é»éƒ½æœ‰é…å¶è¨˜éŒ„ï¼›å·²ç¢ºèªå–®èº«çš„ç¯€é»è¦–ç‚ºå®Œæ•´
3. âœ“ **å‘ä¸‹ç¶­åº¦**ï¼šæ‰€æœ‰é—œéµç¯€é»éƒ½ç¢ºèªäº†å…¶æ‰€æœ‰å­å¥³ï¼ˆåŒ…æ‹¬ã€Œç„¡å­å¥³ã€çš„ç‹€æ³ï¼‰
4. âœ“ **è³‡æ–™å®Œæ•´æ€§**ï¼šæ‰€æœ‰EFUä¸­çš„æˆå“¡éƒ½è‡³å°‘æœ‰å§“åèˆ‡æ€§åˆ¥
5. âœ“ **è·¯å¾‘å®Œæ•´æ€§**ï¼šæ‰€æœ‰åœ¨ç¬¬ä¸€éšæ®µç¢ºèªæœ‰é—œä¿‚çš„ç©å®¶éƒ½åœ¨åŒä¸€æ£µæ—è­œæ¨¹ä¸Šï¼ˆé€£é€šæ€§æ»¿è¶³ï¼‰
6. âœ“ **è¡çªè§£æ±º**ï¼šæ²’æœ‰æœªè§£æ±ºçš„é—œéµè¡çªï¼ˆä¾‹å¦‚åŒä¸€ç©å®¶æŒ‡å‘å…©å€‹ä¸åŒçš„ç¥–çˆ¶ï¼Œæˆ–æ€§åˆ¥çŸ›ç›¾ï¼‰

### ğŸ“Š EFU å®Œæ•´åŒ–é€²åº¦æŒ‡æ¨™

å¾Œç«¯æ‡‰è¿½è¹¤ä»¥ä¸‹æŒ‡æ¨™ï¼š

- **å®Œæ•´åº¦ç™¾åˆ†æ¯”** = (å·²å®ŒæˆEFUçš„é—œéµç¯€é»æ•¸ / ç¸½é—œéµç¯€é»æ•¸) Ã— 100%
- **ç¶­åº¦å®Œæ•´åº¦** = å‘ä¸Šå®Œæˆåº¦ Ã— å‘å´å®Œæˆåº¦ Ã— å‘ä¸‹å®Œæˆåº¦
- **æ™‚é–“é€²åº¦** = å·²è€—æ™‚ç§’æ•¸ / ç¸½ç§’æ•¸

ç•¶ã€Œå®Œæ•´åº¦ç™¾åˆ†æ¯”ã€â‰¥ 100% æ™‚ï¼ŒEFU å®Œæ•´åŒ–é”æˆã€‚ç³»çµ±ä»æ‡‰ç¹¼çºŒæ´¾ç™¼ L4-L6 ä»»å‹™ç›´åˆ°æ™‚é–“è€—ç›¡ã€‚

**ç©å®¶æ„ŸçŸ¥**ï¼ˆç”±å‰ç«¯åˆ¤å®šï¼‰ï¼š

â“ ç©å®¶**ç„¡æ³•æ„ŸçŸ¥**éšæ®µäºŒä½•æ™‚å®Œæˆ

- ç³»çµ±ç¹¼çºŒæ´¾ç™¼æ–°é¡Œç›®ï¼Œå³ä½¿ EFU å®Œæ•´åŒ–å·²é”æˆ
- é¡Œç›®å…§å®¹å¾ã€Œå¿…éœ€ã€(L1-L3) é€æ¼¸è½‰å‘ã€Œè£œå……ã€(L4-L6)
- ç•¶æ™‚é–“è€—ç›¡ï¼Œè‡ªå‹•é€²å…¥éšæ®µä¸‰

---

## ğŸ“‹ ç©å®¶æ“ä½œæŒ‡å—

### åœ¨éšæ®µäºŒä¸­ï¼Œç©å®¶å¯ä»¥ï¼š

âœ… **å¿«é€Ÿå›ç­”**ï¼šç›¡å¯èƒ½å¤šåœ°å¡«å¯«è™›æ“¬ç¯€é»è³‡è¨Š

âœ… **éƒ¨åˆ†å¡«å¯«**ï¼šæ¯æ¬¡åªå¡«ä¸€å€‹æ¬„ä½ï¼ˆå§“åã€æ€§åˆ¥ã€ç”Ÿæ—¥ï¼‰

âœ… **è·³éå•é¡Œ**ï¼šé¸æ“‡ã€Œè·³éã€å°‡é¡Œç›®é‡æ–°æ’éšŠ

âœ… **æ¨™è¨˜ä¸çŸ¥é“**ï¼šé¸æ“‡ã€Œä¸çŸ¥é“ã€è¡¨ç¤ºç„¡æ³•ç¢ºèª

âœ… **ä¿®æ­£ç­”æ¡ˆ**ï¼šæœ€å¾Œç¢ºèªå‰å¯ä¿®æ”¹ï¼ˆå…¨éƒ¨æäº¤å¾Œç„¡æ³•ä¿®æ”¹ï¼‰

âŒ **ä¸èƒ½çœ‹æ—è­œ**ï¼šç„¡æ³•æŸ¥çœ‹æ—è­œçš„å®Œæ•´çµæ§‹ï¼ˆä¿æŒç¥ç§˜æ„Ÿï¼‰

âŒ **ä¸èƒ½æ¶ç­”**ï¼šç„¡æ³•å›ç­”ä»–äººç¨ä½”çš„ä»»å‹™ï¼ˆé–å®šæ©Ÿåˆ¶ä¿è­·ï¼‰

âŒ **ä¸èƒ½ä¿®æ”¹å·²æäº¤çš„ç­”æ¡ˆ**ï¼šæäº¤å¾Œç„¡æ³•å›æº¯
